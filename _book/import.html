<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>12&nbsp; Importing Data into R – An Introduction to Business Analytics for Entrepreneurs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./inspect.html" rel="next">
<link href="./use_R.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/live-runtime/live-runtime.js" type="module"></script>
<link href="site_libs/quarto-contrib/live-runtime/live-runtime.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./R.html">Data in R</a></li><li class="breadcrumb-item"><a href="./import.html"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Importing Data into R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">An Introduction to Business Analytics for Entrepreneurs</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Uncertainty</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uncertainty and Entrepreneurship</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./epistemology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Epistemology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ds_ent.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Business Analytics in Evidence-based Entrepreneurship</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./public_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Public Data Sources for Business Analytics in Entrepreneurship</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./private_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Private Data Sources for Business Analytics in Entrepreneurship</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./customer_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Customer Data Sources for Business Analytics in Entrepreneurship</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Data in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data Analytics in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Installing R, RStudio, and Libraries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./use_R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Using R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./import.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Importing Data into R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inspect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Inspecting and Understanding Data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis (EDA)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Transforming Data</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Modeling Data</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-manual_data" id="toc-sec-manual_data" class="nav-link active" data-scroll-target="#sec-manual_data"><span class="header-section-number">12.1</span> Typing Data Manually</a></li>
  <li><a href="#sec-csv_spreadsheets" id="toc-sec-csv_spreadsheets" class="nav-link" data-scroll-target="#sec-csv_spreadsheets"><span class="header-section-number">12.2</span> Importing CSV Data</a>
  <ul class="collapse">
  <li><a href="#importing-csv-data-through-rstudio-ide-generated-code" id="toc-importing-csv-data-through-rstudio-ide-generated-code" class="nav-link" data-scroll-target="#importing-csv-data-through-rstudio-ide-generated-code"><span class="header-section-number">12.2.1</span> Importing CSV Data through RStudio IDE-Generated Code</a></li>
  <li><a href="#importing-csv-data-through-ai-generated-code" id="toc-importing-csv-data-through-ai-generated-code" class="nav-link" data-scroll-target="#importing-csv-data-through-ai-generated-code"><span class="header-section-number">12.2.2</span> Importing CSV Data through AI-Generated Code</a></li>
  <li><a href="#understanding-and-verifying-code-to-import-csv-files" id="toc-understanding-and-verifying-code-to-import-csv-files" class="nav-link" data-scroll-target="#understanding-and-verifying-code-to-import-csv-files"><span class="header-section-number">12.2.3</span> Understanding and Verifying Code to Import CSV Files</a></li>
  <li><a href="#why-use-csv-files-with-r" id="toc-why-use-csv-files-with-r" class="nav-link" data-scroll-target="#why-use-csv-files-with-r"><span class="header-section-number">12.2.4</span> Why Use CSV Files with R?</a></li>
  </ul></li>
  <li><a href="#sec-xlsx_spreadsheets" id="toc-sec-xlsx_spreadsheets" class="nav-link" data-scroll-target="#sec-xlsx_spreadsheets"><span class="header-section-number">12.3</span> Importing Excel Data</a>
  <ul class="collapse">
  <li><a href="#installing-and-loading-the-readxl-package" id="toc-installing-and-loading-the-readxl-package" class="nav-link" data-scroll-target="#installing-and-loading-the-readxl-package"><span class="header-section-number">12.3.1</span> Installing and Loading the <code>readxl</code> Package</a></li>
  <li><a href="#importing-excel-data-through-rstudio-ide-generated-code" id="toc-importing-excel-data-through-rstudio-ide-generated-code" class="nav-link" data-scroll-target="#importing-excel-data-through-rstudio-ide-generated-code"><span class="header-section-number">12.3.2</span> Importing Excel Data through RStudio IDE-Generated Code</a></li>
  <li><a href="#importing-excel-data-through-ai-generated-code" id="toc-importing-excel-data-through-ai-generated-code" class="nav-link" data-scroll-target="#importing-excel-data-through-ai-generated-code"><span class="header-section-number">12.3.3</span> Importing Excel Data through AI-Generated Code</a></li>
  <li><a href="#understanding-and-verifying-code-to-import-excel-data" id="toc-understanding-and-verifying-code-to-import-excel-data" class="nav-link" data-scroll-target="#understanding-and-verifying-code-to-import-excel-data"><span class="header-section-number">12.3.4</span> Understanding and Verifying Code to Import Excel Data</a></li>
  <li><a href="#advantages-of-using-excel-with-r" id="toc-advantages-of-using-excel-with-r" class="nav-link" data-scroll-target="#advantages-of-using-excel-with-r"><span class="header-section-number">12.3.5</span> Advantages of Using Excel with R</a></li>
  </ul></li>
  <li><a href="#sec-google_sheets" id="toc-sec-google_sheets" class="nav-link" data-scroll-target="#sec-google_sheets"><span class="header-section-number">12.4</span> Importing Data from Google Sheets</a>
  <ul class="collapse">
  <li><a href="#install-the-googlesheets4-package" id="toc-install-the-googlesheets4-package" class="nav-link" data-scroll-target="#install-the-googlesheets4-package"><span class="header-section-number">12.4.1</span> Install the <code>googlesheets4</code> Package</a></li>
  <li><a href="#no-option-to-import-through-rstudio-ide-generated-code" id="toc-no-option-to-import-through-rstudio-ide-generated-code" class="nav-link" data-scroll-target="#no-option-to-import-through-rstudio-ide-generated-code"><span class="header-section-number">12.4.2</span> <strong>No Option to</strong> Import through RStudio IDE-Generated Code</a></li>
  <li><a href="#import-google-sheets-data-through-ai-generated-code" id="toc-import-google-sheets-data-through-ai-generated-code" class="nav-link" data-scroll-target="#import-google-sheets-data-through-ai-generated-code"><span class="header-section-number">12.4.3</span> Import Google Sheets Data through AI-Generated Code</a></li>
  <li><a href="#import-google-sheets-data-through-user-generated-code" id="toc-import-google-sheets-data-through-user-generated-code" class="nav-link" data-scroll-target="#import-google-sheets-data-through-user-generated-code"><span class="header-section-number">12.4.4</span> Import Google Sheets Data through User-Generated Code</a></li>
  </ul></li>
  <li><a href="#sec-databases" id="toc-sec-databases" class="nav-link" data-scroll-target="#sec-databases"><span class="header-section-number">12.5</span> Importing Data from Databases</a>
  <ul class="collapse">
  <li><a href="#connecting-to-an-sqlite-database" id="toc-connecting-to-an-sqlite-database" class="nav-link" data-scroll-target="#connecting-to-an-sqlite-database"><span class="header-section-number">12.5.1</span> Connecting to an SQLite Database</a></li>
  <li><a href="#querying-data-from-the-database" id="toc-querying-data-from-the-database" class="nav-link" data-scroll-target="#querying-data-from-the-database"><span class="header-section-number">12.5.2</span> Querying Data from the Database</a></li>
  <li><a href="#exploring-tables-and-metadata" id="toc-exploring-tables-and-metadata" class="nav-link" data-scroll-target="#exploring-tables-and-metadata"><span class="header-section-number">12.5.3</span> Exploring Tables and Metadata</a></li>
  <li><a href="#disconnecting-from-the-database" id="toc-disconnecting-from-the-database" class="nav-link" data-scroll-target="#disconnecting-from-the-database"><span class="header-section-number">12.5.4</span> Disconnecting from the Database</a></li>
  <li><a href="#using-databases-other-than-sqlite" id="toc-using-databases-other-than-sqlite" class="nav-link" data-scroll-target="#using-databases-other-than-sqlite"><span class="header-section-number">12.5.5</span> Using Databases Other Than SQLite</a></li>
  <li><a href="#advantages-of-working-with-databases-in-r" id="toc-advantages-of-working-with-databases-in-r" class="nav-link" data-scroll-target="#advantages-of-working-with-databases-in-r"><span class="header-section-number">12.5.6</span> Advantages of Working with Databases in R</a></li>
  </ul></li>
  <li><a href="#sec-web_data" id="toc-sec-web_data" class="nav-link" data-scroll-target="#sec-web_data"><span class="header-section-number">12.6</span> Importing Web Data</a>
  <ul class="collapse">
  <li><a href="#install-and-load-the-httr-package" id="toc-install-and-load-the-httr-package" class="nav-link" data-scroll-target="#install-and-load-the-httr-package"><span class="header-section-number">12.6.1</span> Install and Load the <code>httr</code> Package</a></li>
  <li><a href="#making-an-api-request" id="toc-making-an-api-request" class="nav-link" data-scroll-target="#making-an-api-request"><span class="header-section-number">12.6.2</span> Making an API Request</a></li>
  <li><a href="#parsing-json-data" id="toc-parsing-json-data" class="nav-link" data-scroll-target="#parsing-json-data"><span class="header-section-number">12.6.3</span> Parsing JSON Data</a></li>
  <li><a href="#using-api-keys-and-authentication" id="toc-using-api-keys-and-authentication" class="nav-link" data-scroll-target="#using-api-keys-and-authentication"><span class="header-section-number">12.6.4</span> Using API Keys and Authentication</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples"><span class="header-section-number">12.6.5</span> Examples</a></li>
  <li><a href="#advantages-of-importing-web-data" id="toc-advantages-of-importing-web-data" class="nav-link" data-scroll-target="#advantages-of-importing-web-data"><span class="header-section-number">12.6.6</span> Advantages of Importing Web Data</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./R.html">Data in R</a></li><li class="breadcrumb-item"><a href="./import.html"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Importing Data into R</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Importing Data into R</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<style>
.wrapfig {
    float: right; 
    margin: 0 20px 10px 0; /* adjust space around the image */
    width: 40%; /* adjust image width */
}
</style>
<p>Data can come from many different sources. Whether it’s entered manually, stored in files, or pulled from a database, importing data into R is the first step in any analysis. In this chapter, we’ll explore several methods to get data into R, including typing it in manually, importing CSV and Excel files, and connecting to more complex sources like Google Sheets and databases.</p>
<p>We’ll focus on the most common and practical methods first—methods you’ll encounter frequently in real-world scenarios. These methods vary based on the type of data you need to import.</p>
<hr style="border:4px solid #3370F4">
<p><br><br></p>
<section id="sec-manual_data" class="level2" data-number="12.1">
<h2 data-number="12.1" class="anchored" data-anchor-id="sec-manual_data"><span class="header-section-number">12.1</span> Typing Data Manually</h2>
<p>If you’re working with small datasets or need to quickly test something, you might create a data frame manually in R. This is also a good way to familiarize yourself with the structure of data in R.</p>
<p>Here’s how to create a small data frame directly in R using the <code>tibble()</code> function from the tidyverse:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Manually creating a small dataset</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"John"</span>, <span class="st">"Jane"</span>, <span class="st">"Alice"</span>, <span class="st">"Bob"</span>),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">28</span>, <span class="dv">22</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">occupation =</span> <span class="fu">c</span>(<span class="st">"Engineer"</span>, <span class="st">"Doctor"</span>, <span class="st">"Artist"</span>, <span class="st">"Student"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  name    age occupation
  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;     
1 John     25 Engineer  
2 Jane     30 Doctor    
3 Alice    28 Artist    
4 Bob      22 Student   </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>When the value is a string like a name, it is entered in quotes (“John”); when the value is numeric like an age, it is entered without quotes (25).</p>
<p>Also note that there is a comma (,) at the end of every line to signify that another argument is coming. There is <em>no</em> comma (,) at the end of the last argument <code>occupation = ...</code> because there are no more arguments after the occupation variable.</p>
</div>
</div>
<section id="try-it-yourself" class="level5" data-number="12.1.0.0.1">
<h5 data-number="12.1.0.0.1" class="anchored"><span class="header-section-number">12.1.0.0.1</span> <span style="color:#3370F4">Try it yourself:</span></h5>
<hr style="border:2px solid #3370F4">
<p>Starting with the code that manually creates a dataset named data, change the code to add an additional variable after <code>age</code> named <code>gender</code> where the gender of John is “Male”, Jane is “Female”, Alice is “Female”, and Bob is “Male”.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-setup="true" data-exercise="manual_entry">
<script type="exercise-setup-manual_entry-contents">
eyJhdHRyIjp7ImV4ZXJjaXNlIjoibWFudWFsX2VudHJ5IiwiZWRpdCI6dHJ1ZSwic2V0dXAiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoiZGF0YSA8LSB0aWJibGUoXG4gIG5hbWUgPSBjKFwiSm9oblwiLCBcIkphbmVcIiwgXCJBbGljZVwiLCBcIkJvYlwiKSxcbiAgYWdlID0gYygyNSwgMzAsIDI4LCAyMiksXG4gIG9jY3VwYXRpb24gPSBjKFwiRW5naW5lZXJcIiwgXCJEb2N0b3JcIiwgXCJBcnRpc3RcIiwgXCJTdHVkZW50XCIpXG4pXG5kYXRhIn0=
</script>
</div>
<div class="cell" data-exercise="manual_entry">
<div>
<div id="webr-2" class="exercise-cell">

</div>
<script type="webr-2-contents">
eyJhdHRyIjp7ImV4ZXJjaXNlIjoibWFudWFsX2VudHJ5IiwiZWRpdCI6dHJ1ZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiJkYXRhIDwtIHRpYmJsZShcbiAgbmFtZSA9IGMoXCJKb2huXCIsIFwiSmFuZVwiLCBcIkFsaWNlXCIsIFwiQm9iXCIpLFxuICBhZ2UgPSBjKDI1LCAzMCwgMjgsIDIyKSxcbiAgb2NjdXBhdGlvbiA9IGMoXCJFbmdpbmVlclwiLCBcIkRvY3RvclwiLCBcIkFydGlzdFwiLCBcIlN0dWRlbnRcIilcbilcbmRhdGEifQ==
</script>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="manual_entry">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-1" class="level4" data-number="12.1.0.1">
<h4 data-number="12.1.0.1" class="anchored" data-anchor-id="hint-1"><span class="header-section-number">12.1.0.1</span> Hint 1</h4>
<p>The variables <code>name</code>, <code>age</code>, and <code>occupation</code> are created by a new line with <code>variable_name = c(value1, value2, value3, value4)</code>. What can you do to add a variable for gender as described above? <!--:::--></p>
</section>
</div>
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="manual_entry">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-2" class="level4" data-number="12.1.0.2">
<h4 data-number="12.1.0.2" class="anchored" data-anchor-id="hint-2"><span class="header-section-number">12.1.0.2</span> Hint 2</h4>
<p>Add a line after <code>age</code> and define the <code>gender</code> variable with values of “Male”, “Female”, “Female”, “Male.”</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>  gender <span class="ot">=</span> <span class="fu">c</span>(<span class="st">""</span>Male<span class="st">", "</span>Female<span class="st">", "</span>Female<span class="st">", "</span>Male<span class="st">")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--:::-->
</section>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="manual_entry">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="fully-worked-solution" class="level3" data-number="12.1.1">
<h3 data-number="12.1.1" class="anchored" data-anchor-id="fully-worked-solution"><span class="header-section-number">12.1.1</span> Fully worked solution:</h3>
<p>Add a line after <code>age</code> and define the <code>gender</code> variable with values of “Male”, “Female”, “Female”, “Male”.</p>
<div class="sourceCode" id="annotated-cell-27"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-27-1" class="code-annotation-target"><a href="#annotated-cell-27-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-27-2" class="code-annotation-target"><a href="#annotated-cell-27-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"John"</span>, <span class="st">"Jane"</span>, <span class="st">"Alice"</span>, <span class="st">"Bob"</span>),</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-27-3" class="code-annotation-target"><a href="#annotated-cell-27-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">28</span>, <span class="dv">22</span>),</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-27-4" class="code-annotation-target"><a href="#annotated-cell-27-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>, <span class="st">"Female"</span>, <span class="st">"Male"</span>),</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-27-5" class="code-annotation-target"><a href="#annotated-cell-27-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">occupation =</span> <span class="fu">c</span>(<span class="st">"Engineer"</span>, <span class="st">"Doctor"</span>, <span class="st">"Artist"</span>, <span class="st">"Student"</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-27-6" class="code-annotation-target"><a href="#annotated-cell-27-6" aria-hidden="true" tabindex="-1"></a>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-27" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="1" data-code-annotation="1">Create a dataset named <code>data</code> by calling the <code>tibble</code> function</span>
</dd>
<dt data-target-cell="annotated-cell-27" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="2" data-code-annotation="2">Create the <code>name</code> variable with values of “John”, “Jane”, “Alice”, “Bob”</span>
</dd>
<dt data-target-cell="annotated-cell-27" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="3" data-code-annotation="3">Create the <code>age</code> variable with values of 25, 30, 28, 22</span>
</dd>
<dt data-target-cell="annotated-cell-27" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="4" data-code-annotation="4">Create the <code>gender</code> variable with values of “Male”, “Female”, “Female”, “Male”</span>
</dd>
<dt data-target-cell="annotated-cell-27" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="5" data-code-annotation="5">Create the <code>occupation</code> variable with values of “Engineer”, “Doctor”, “Artist”, “Student”</span>
</dd>
<dt data-target-cell="annotated-cell-27" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="6" data-code-annotation="6">Close the tibble function call with <code>)</code> to enclose the arguments of the function</span>
</dd>
</dl>
</section>
</div>
<!--:::-->
</div>
</div>
</div>
<!-- <hr style="border:2px solid #3370F4"> -->
<p>This method is useful for small datasets or testing, but it is increasingly tedious and inaccurate as your data grows. You’ll usually import data from external sources like CSV or Excel files.</p>
<hr style="border:4px solid #3370F4">
<p><br><br></p>
</section>
</section>
<section id="sec-csv_spreadsheets" class="level2" data-number="12.2">
<h2 data-number="12.2" class="anchored" data-anchor-id="sec-csv_spreadsheets"><span class="header-section-number">12.2</span> Importing CSV Data</h2>
<p>CSV (Comma-Separated Values) files are one of the most common formats for storing and sharing data. They are simple text files where each line corresponds to a row of data, and columns are separated by commas.</p>
<section id="importing-csv-data-through-rstudio-ide-generated-code" class="level3" data-number="12.2.1">
<h3 data-number="12.2.1" class="anchored" data-anchor-id="importing-csv-data-through-rstudio-ide-generated-code"><span class="header-section-number">12.2.1</span> Importing CSV Data through RStudio IDE-Generated Code</h3>
<p>RStudio provides a user-friendly, graphical interface to import data files. This is especially helpful for beginners because it eliminates the need to write code manually and helps you understand the process as the IDE generates the import code for you.</p>
<section id="steps-to-import-a-csv-file-using-the-rstudio-ide" class="level4" data-number="12.2.1.1">
<h4 data-number="12.2.1.1" class="anchored" data-anchor-id="steps-to-import-a-csv-file-using-the-rstudio-ide"><span class="header-section-number">12.2.1.1</span> Steps to Import a CSV File Using the RStudio IDE:</h4>
<ol type="1">
<li><p><strong>Open the Files Pane</strong>: In the bottom-right of the RStudio interface, find the Files Pane, where you can browse the files on your computer.</p></li>
<li><p><strong>Select the CSV File</strong>: Click on the <code>.csv</code> file that you want to import.</p></li>
<li><p><strong>Open the Import Wizard</strong>: When you select the file, RStudio automatically opens an import wizard to guide you through the process.</p></li>
<li><p><strong>Configure Import Settings</strong>: In the import wizard, you can adjust settings based on your dataset. Here are the key options:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/RStudio_IDE_mc_csv.png" class="img-fluid figure-img"></p>
<figcaption>RStudio IDE Settings for CSV Files</figcaption>
</figure>
</div>
<ul>
<li><strong>Name</strong>: Choose a name for your dataset. R will offer a default, but you can customize it.</li>
<li><strong>Skip Rows</strong>: Indicate how many rows to skip from the top of the file (e.g., for metadata rows).</li>
<li><strong>First Row as Names</strong>: If your file has column names in the first row, check this option.</li>
<li><strong>Trim Spaces</strong>: Remove any extra spaces at the beginning or end of values.</li>
<li><strong>Open Data Viewer</strong>: Check this box to preview the imported data in a table-like view.</li>
<li><strong>Delimiter</strong>: By default, the delimiter is a comma (<code>,</code>), but if your file uses something else (e.g., a semicolon), you can change it here.</li>
<li><strong>Quote</strong>: For handling text fields in your CSV that use quotes (e.g., <code>"New York, NY"</code>).</li>
<li><strong>Locale</strong>: Set regional settings for dates or number formats (e.g., European date formats).<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
<li><strong>Escape Characters</strong>: Handle special characters that need to be “escaped,” like quotes or commas.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></li>
<li><strong>Comment Lines</strong>: Ignore lines marked with specific characters (e.g., lines that start with <code>#</code>).</li>
<li><strong>NA Values</strong>: Specify how missing values are represented (e.g., <code>NA</code>, <code>NULL</code>, <code>?</code>).</li>
</ul></li>
<li><p><strong>Adjust Data Types</strong>: At the top of each column in the data preview, you can see the data type (e.g., character, numeric). Change the type if R has incorrectly guessed the data type:</p>
<ul>
<li><strong>Numeric as Character</strong>: Change text fields that should be numbers.</li>
<li><strong>Dates as Character</strong>: Convert date fields to a proper date format.</li>
<li><strong>Factors</strong>: Change character columns to factors (categories) if needed.</li>
</ul></li>
<li><p><strong>Click “Import”</strong>: Once you’ve adjusted the settings, click the “Import” button to bring the data into R.</p></li>
<li><p><strong>View the Data</strong>: The data opens in RStudio’s Data Viewer, where you can inspect it visually.</p></li>
<li><p><strong>Save the Import Code</strong>: The IDE automatically generates R code for the import and runs it in the console. Copy this code into your script to reuse it later, so you don’t have to reconfigure the settings manually each time.</p></li>
</ol>
</section>
<section id="advantages-of-using-the-ide-method" class="level4" data-number="12.2.1.2">
<h4 data-number="12.2.1.2" class="anchored" data-anchor-id="advantages-of-using-the-ide-method"><span class="header-section-number">12.2.1.2</span> Advantages of Using the IDE Method</h4>
<ul>
<li><strong>Easy to Use</strong>: You don’t need to memorize code or syntax—just click through the interface.</li>
<li><strong>Learn as You Go</strong>: The IDE generates code for you, which helps you learn R’s import functions over time.</li>
<li><strong>Efficient for Quick Imports</strong>: Great when you need to quickly import and inspect new files.</li>
</ul>
</section>
</section>
<section id="importing-csv-data-through-ai-generated-code" class="level3" data-number="12.2.2">
<h3 data-number="12.2.2" class="anchored" data-anchor-id="importing-csv-data-through-ai-generated-code"><span class="header-section-number">12.2.2</span> Importing CSV Data through AI-Generated Code</h3>
<p>While importing <code>.csv</code> data through the RStudio IDE is intuitive and visual, it has its limitations. The process can be manual, and any changes you make must be repeated each time you want to import the data. This is because the IDE doesn’t automatically store the import code in your R script, making the process not automatically <strong>reproducible</strong>. This is where AI-generated code can be a powerful solution.</p>
<section id="why-use-ai-generated-code" class="level4" data-number="12.2.2.1">
<h4 data-number="12.2.2.1" class="anchored" data-anchor-id="why-use-ai-generated-code"><span class="header-section-number">12.2.2.1</span> Why Use AI-Generated Code?</h4>
<p>Using AI to generate code opens up new possibilities for data analysis. Here are some of the benefits:</p>
<ul>
<li><strong>Efficiency</strong>: AI can write code quickly, reducing the time you spend manually configuring options in the IDE. This means you can focus more on analyzing the data rather than the import process.</li>
<li><strong>Reproducibility</strong>: When AI generates code, it can be directly included in your R script, ensuring that your data imports are consistent each time you run the script. This reproducibility is crucial for accurate and reliable data analysis.</li>
<li><strong>Flexibility</strong>: AI can handle more complex scenarios by understanding your specific requirements. You can use prompts to specify exactly how your data should be imported, including custom configurations that might be harder to set up manually.</li>
<li><strong>Learning Opportunity</strong>: Seeing the code generated by AI can help you understand R more deeply. By examining and tweaking the code, you learn how to accomplish specific tasks, making you more comfortable with coding in general.</li>
</ul>
</section>
<section id="solutions-for-reproducibility" class="level4" data-number="12.2.2.2">
<h4 data-number="12.2.2.2" class="anchored" data-anchor-id="solutions-for-reproducibility"><span class="header-section-number">12.2.2.2</span> Solutions for Reproducibility</h4>
<p>To make your workflow more efficient and reliable, consider the following approaches:</p>
<ol type="1">
<li><strong>Copy the Code from the Console</strong>: After using the RStudio IDE to import data, copy the generated code from the console into your script. This allows you to reproduce the import process every time you run your script, preserving the settings you configured in the IDE.</li>
<li><strong>Generate Code Using AI</strong>: An even more efficient solution is to use AI to generate the import code for you. By providing a well-crafted prompt, you can ensure reproducibility from the start without relying on manual steps. This method can save time and reduce the risk of errors.</li>
</ol>
</section>
<section id="importing-simple-.csv-data-with-ai-generated-code" class="level4" data-number="12.2.2.3">
<h4 data-number="12.2.2.3" class="anchored" data-anchor-id="importing-simple-.csv-data-with-ai-generated-code"><span class="header-section-number">12.2.2.3</span> Importing Simple <code>.csv</code> Data with AI-Generated Code</h4>
<p>To import a simple <code>.csv</code> file using AI, provide the name of your <code>.csv</code> file and the desired name for the dataset in R.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="AI Prompt:">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
AI Prompt:
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Importing <code>.csv</code> Data</strong>:<br>
<span style="color:#00796B">“Please provide the tidyverse code to import a <code>.csv</code> file named <code>tb.csv</code> and name the resulting tibble <code>tb_data</code>.”</span></p>
</div>
</div>
</section>
<section id="sec-qualtrics_csv_ai" class="level4" data-number="12.2.2.4">
<h4 data-number="12.2.2.4" class="anchored" data-anchor-id="sec-qualtrics_csv_ai"><span class="header-section-number">12.2.2.4</span> Importing Qualtrics <code>.csv</code> Data with AI-Generated Code</h4>
<p>Qualtrics exports often contain metadata in both rows and columns. For example, the first and third rows, as well as certain columns, might include metadata you need to exclude. To handle this, you can use a more complex AI prompt like the one below.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="AI Prompt:">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
AI Prompt:
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Importing <code>.csv</code> Data with Metadata</strong>:<br>
</p>
<div style="color:#00796B">
<p>Please provide the tidyverse code to import a CSV file named ‘“long Qualtrics file name.csv”’ with the following requirements:</p>
<ol type="1">
<li>The first row contains metadata and should be skipped.<br>
</li>
<li>The second row contains column names and should be used as headers.<br>
</li>
<li>The third row contains metadata and should be excluded.<br>
</li>
<li>The columns from ‘Start Date’ through ‘User Language’ also contain metadata and should be excluded from the dataset.<br>
</li>
<li>Ensure that the data types are converted appropriately after import.<br>
</li>
<li>Name the resulting tibble <code>descriptive_name_data</code>.</li>
</ol>
</div>
</div>
</div>
<p>By incorporating AI into your workflow, you can streamline the data import process, making it faster, more reliable, and easier to maintain. You maintain reproducibility and can easily handle more complex import tasks, such as skipping metadata rows and columns. This approach is especially useful when working with complex datasets or repetitive tasks where consistency is key.</p>
</section>
</section>
<section id="understanding-and-verifying-code-to-import-csv-files" class="level3" data-number="12.2.3">
<h3 data-number="12.2.3" class="anchored" data-anchor-id="understanding-and-verifying-code-to-import-csv-files"><span class="header-section-number">12.2.3</span> Understanding and Verifying Code to Import CSV Files</h3>
<section id="owning-your-code" class="level4" data-number="12.2.3.1">
<h4 data-number="12.2.3.1" class="anchored" data-anchor-id="owning-your-code"><span class="header-section-number">12.2.3.1</span> Owning Your Code</h4>
<p>While the RStudio IDE and AI tools can generate useful code for importing data, the quality and accuracy of the code they produce depend entirely on the quality of the prompts you provide through their respective interfaces. In both cases, <strong>you are responsible for the code</strong> because you generated the prompts that led to its creation.</p>
<p>This means that you, the user, must fully understand the code being generated to determine whether it accomplishes what you expected and to identify any errors. <strong>Owning the code</strong> means taking responsibility for both the prompt and the outcome, ensuring that the data is imported and handled as intended.</p>
<p>Understanding the code empowers you to:</p>
<ol type="1">
<li><strong>Verify the output</strong>: Ensure the code produces the correct results.</li>
<li><strong>Debug errors</strong>: Identify and fix any issues that arise.</li>
<li><strong>Adapt the code</strong>: Modify the code for different datasets or changing needs.</li>
</ol>
</section>
<section id="reference-templates-and-common-scenarios" class="level4" data-number="12.2.3.2">
<h4 data-number="12.2.3.2" class="anchored" data-anchor-id="reference-templates-and-common-scenarios"><span class="header-section-number">12.2.3.2</span> Reference Templates and Common Scenarios</h4>
<p>Here, we’ll guide you through common scenarios for importing data, particularly dealing with <code>.csv</code> files from sources like Qualtrics. Understanding these reference templates will help you better recognize and verify the code you generate from the IDE or AI.</p>
<p>By learning how to write or adapt your own code, you’ll be able to confirm the accuracy of what your tools produce, troubleshoot errors, and modify scripts for future use.</p>
</section>
<section id="importing-a-simple-csv-file" class="level4" data-number="12.2.3.3">
<h4 data-number="12.2.3.3" class="anchored" data-anchor-id="importing-a-simple-csv-file"><span class="header-section-number">12.2.3.3</span> Importing a Simple CSV File</h4>
<p>To import a CSV file into R, we use the <code>read_csv()</code> function from the <code>readr</code> package, part of the <code>tidyverse</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Importing data from a CSV file</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"path/to/your/file.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Replace <code>"path/to/your/file.csv"</code> with the actual file path of your CSV file. This method is ideal for structured data that’s exported from spreadsheets, databases, or other software.</p>
</section>
<section id="sec-qualtrics_csv" class="level4" data-number="12.2.3.4">
<h4 data-number="12.2.3.4" class="anchored" data-anchor-id="sec-qualtrics_csv"><span class="header-section-number">12.2.3.4</span> Integrated Code Example: Cleaning Qualtrics <code>.csv</code> Data</h4>
<p>Let’s go through a more complex example of importing Qualtrics data that includes metadata. We will build a single integrated code block, along with explanations for each step.</p>
<section id="handling-qualtrics-metadata" class="level5" data-number="12.2.3.4.1">
<h5 data-number="12.2.3.4.1" class="anchored" data-anchor-id="handling-qualtrics-metadata"><span class="header-section-number">12.2.3.4.1</span> Handling Qualtrics Metadata</h5>
<p>Qualtrics survey data often contains metadata that can interfere with your analysis. This metadata can be in the form of extra rows or columns that should be excluded. Below, we’ll demonstrate how to:</p>
<ol type="1">
<li><strong>Skip Rows</strong>: To ignore metadata rows during import.</li>
<li><strong>Remove Unwanted Columns</strong>: To exclude metadata columns.</li>
<li><strong>Convert Data Types</strong>: To correct column types after import.</li>
</ol>
</section>
<section id="what-is-metadata" class="level5" data-number="12.2.3.4.2">
<h5 data-number="12.2.3.4.2" class="anchored" data-anchor-id="what-is-metadata"><span class="header-section-number">12.2.3.4.2</span> What Is Metadata?</h5>
<p>Metadata is “data about data.” In the context of a Qualtrics survey, it refers to the additional information generated by the survey platform about your actual survey data (the responses). This can include details about when the survey was completed, how long it took, the version of the survey, and more.</p>
</section>
</section>
<section id="reference-code-template" class="level4" data-number="12.2.3.5">
<h4 data-number="12.2.3.5" class="anchored" data-anchor-id="reference-code-template"><span class="header-section-number">12.2.3.5</span> Reference Code Template</h4>
<p>Here’s a consolidated example for handling Qualtrics metadata during and after import:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Import the CSV data and skip the first (metadata) row</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>descriptive_name_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"long Qualtrics CSV file name.csv"</span>, </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">skip =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Remove unwanted columns</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>(column1<span class="sc">:</span>columnN)) <span class="sc">|&gt;</span>  <span class="do">## where column1 is the first column of metadata and columnN is the last column of metadata.</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">|&gt;</span>  <span class="do">## Remove the remaining row of metadata</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">type_convert</span>()  <span class="do">## Reevaluate the data types</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="explanation" class="level5" data-number="12.2.3.5.1">
<h5 data-number="12.2.3.5.1" class="anchored" data-anchor-id="explanation"><span class="header-section-number">12.2.3.5.1</span> Explanation:</h5>
<ol type="1">
<li><code>skip = 1</code>: Skips the first row (metadata).</li>
<li><code>select(!(column1:columnN))</code>: Removes metadata columns 1 through N.</li>
<li><code>slice(-1)</code>: Deletes the (new) first row (old third row) that still contains metadata.</li>
<li><code>type_convert()</code>: Automatically converts the data to appropriate types after cleaning.</li>
</ol>
</section>
</section>
<section id="understanding-and-verifying-generated-code" class="level4" data-number="12.2.3.6">
<h4 data-number="12.2.3.6" class="anchored" data-anchor-id="understanding-and-verifying-generated-code"><span class="header-section-number">12.2.3.6</span> Understanding and Verifying Generated Code</h4>
<p>While the RStudio IDE and AI can generate similar code, slight differences can significantly impact functionality. Let’s look at how to spot these:</p>
<ol type="1">
<li><strong>Check for Correct Syntax</strong>: Make sure the function names, parameters, and file paths match your dataset.</li>
<li><strong>Verify Skipped Rows and Selected Columns</strong>: Confirm that the metadata has been correctly removed. Compare your results with the raw file to ensure accuracy.</li>
<li><strong>Watch for Correct Data Types</strong>: After running <code>type_convert()</code>, use <code>glimpse(data)</code> to verify that columns have been correctly identified as numeric, character, or date.</li>
</ol>
<section id="common-debugging-tips" class="level5" data-number="12.2.3.6.1">
<h5 data-number="12.2.3.6.1" class="anchored" data-anchor-id="common-debugging-tips"><span class="header-section-number">12.2.3.6.1</span> Common Debugging Tips:</h5>
<ul>
<li><strong>Mismatched Column Types</strong>: If you still see unexpected column types, re-examine your data after removing metadata. Sometimes extra characters or spaces can cause misclassification.</li>
<li><strong>Incorrect Rows or Columns</strong>: Use <code>head(data)</code> and <code>summary(data)</code> to verify that your data was imported correctly.</li>
<li><strong>Unexpected Errors</strong>: Make sure all necessary libraries are loaded. Check for typos in your column or file names.</li>
</ul>
</section>
</section>
<section id="exercise-try-it-yourself" class="level4" data-number="12.2.3.7">
<h4 data-number="12.2.3.7" class="anchored" data-anchor-id="exercise-try-it-yourself"><span class="header-section-number">12.2.3.7</span> <span style="color:#3370F4">Exercise: Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<p>Let’s apply these steps to a real example. An entrepreneur had the idea to start a popup cupcake stand that would show up outside of university classrooms between classes. Students would be able to get a snack without leaving the classroom area or carrying it from home. The dataset is in a file named <code>cupcakes.csv</code> and the file is located in the <code>data</code> subdirectory of this document. Let’s import this CSV data file and deal with the metadata inserted by the Qualtrics survey:</p>
<ol type="1">
<li>Name the imported data object <code>cupcakes_data</code>.</li>
<li>Skip the first (metadata) row.</li>
<li>Delete the columns of metatdata (columns 1 through 17 are metadata; columns 18 through 26 are survey data)</li>
<li>Delete the new first row (original third row) of metatdata.</li>
<li>Re-evalutate the data types</li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-setup="true" data-exercise="cupcakes">
<script type="exercise-setup-cupcakes-contents">
eyJhdHRyIjp7ImV4ZXJjaXNlIjoiY3VwY2FrZXMiLCJ3YXJuaW5nIjpmYWxzZSwiZWRpdCI6dHJ1ZSwic2V0dXAiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoibGlicmFyeSh0aWJibGUpXG5saWJyYXJ5KHJlYWRyKSJ9
</script>
</div>
<div class="cell" data-exercise="cupcakes">
<div>
<div id="webr-4" class="exercise-cell">

</div>
<script type="webr-4-contents">
eyJhdHRyIjp7ImV4ZXJjaXNlIjoiY3VwY2FrZXMiLCJ3YXJuaW5nIjpmYWxzZSwiZWRpdCI6dHJ1ZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiJkYXRhIDwtIHJlYWRfY3N2KFwicGF0aC90by95b3VyL2ZpbGUuY3N2XCIpXG5kYXRhIn0=
</script>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<section id="hint-1-1" class="level4 hint webr-ojs-exercise exercise-hint d-none" data-exercise="cupcakes" data-number="12.2.3.8">
<h4 data-number="12.2.3.8" class="anchored" data-anchor-id="hint-1-1"><span class="header-section-number">12.2.3.8</span> Hint 1</h4>
<p>Change the name of the data object as well as the argument to the <code>read_csv()</code> function to import the cupcakes data. Skip the first and third rows (metadata) and delete columns 1 through 17. Re-evaluate the data types.</p>
</section>
<section id="hint-2-1" class="level4 hint webr-ojs-exercise exercise-hint d-none" data-exercise="cupcakes" data-number="12.2.3.9">
<h4 data-number="12.2.3.9" class="anchored" data-anchor-id="hint-2-1"><span class="header-section-number">12.2.3.9</span> Hint 2</h4>
<ol type="1">
<li>Change the name <code>data</code> to <code>cupcakes_data</code></li>
<li>Change the path to the file to <code>data</code></li>
<li>Change the name of the file to be imported to <code>cupcakes.csv</code></li>
<li>Add the skip argument to the <code>read_csv</code> function</li>
<li>Delete the columns of metadata</li>
<li>Delete the (new) first row</li>
<li>Convert the data types of the remaining variables.</li>
</ol>
</section>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="cupcakes">
<p>Change the code to match the specifics of importing the csv file <code>cupcakes.csv</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>cupcakes_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/cupcakes.csv"</span>, </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">skip =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">17</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">type.convert</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>Specify the data object to be <code>cupcakes_data</code></li>
<li>Specify the path to the data to be <code>"data"</code></li>
<li>Change the name of the file to be imported to <code>cupcakes.csv</code></li>
<li>Add the skip argument to the <code>read_csv</code> function</li>
<li>Delete the columns of metadata</li>
<li>Delete the (new) first row</li>
<li>Convert the data types of the remaining variables.</li>
</ol>
</div>
<!--:::-->
</div>
</div>
</div>
<hr style="border:2px solid #3370F4">
<!-- Andrew Heiss had a great section on why we should import .csv -->
<p>Mastering how to write, understand, and verify code will make you more confident in using R for data analysis, even when relying on tools like the IDE or AI to generate code for you. Always make sure you know what your code is doing and be prepared to adjust and debug as needed.</p>
</section>
</section>
<section id="why-use-csv-files-with-r" class="level3" data-number="12.2.4">
<h3 data-number="12.2.4" class="anchored" data-anchor-id="why-use-csv-files-with-r"><span class="header-section-number">12.2.4</span> Why Use CSV Files with R?</h3>
<ul>
<li><p><strong>Universal Format</strong>: CSV (Comma Separated Values) is a widely supported format across different platforms and tools, making it easy to share and transfer data.</p></li>
<li><p><strong>Lightweight and Efficient</strong>: CSV files are simple text files, so they are lightweight and can be processed quickly by R without needing extra software or dependencies.</p></li>
<li><p><strong>Standard Structure</strong>: CSV files have a straightforward row-and-column structure, making them easy to work with in R using functions like <code>read.csv()</code> or <code>readr::read_csv()</code>.</p></li>
<li><p><strong>Human-Readable</strong>: Since CSV files are plain text, you can easily open them in any text editor or spreadsheet software to view the raw data.</p></li>
<li><p><strong>Minimal Formatting</strong>: CSV files don’t include complex formatting like fonts, formulas, or colors. This reduces the risk of issues during import, making it easier to focus on the actual data.</p></li>
<li><p><strong>Preferred Format in Data Science</strong>: CSV is widely used by data science professionals due to its simplicity and compatibility. It avoids the problems associated with proprietary formats and is ideal for storing raw data.</p></li>
</ul>
<p>Mastering CSV imports allows you to work efficiently with data in its simplest form, integrating seamlessly into your R workflow for analysis and visualization.</p>
<hr style="border:4px solid #3370F4">
<p><br><br></p>
</section>
</section>
<section id="sec-xlsx_spreadsheets" class="level2" data-number="12.3">
<h2 data-number="12.3" class="anchored" data-anchor-id="sec-xlsx_spreadsheets"><span class="header-section-number">12.3</span> Importing Excel Data</h2>
<p>Excel is a widely used tool in business for data collection and analysis. R makes it easy to import Excel data, thanks to the <code>readxl</code> package. Whether you’re working with <code>.xls</code> or <code>.xlsx</code> formats, readxl provides a straightforward way to read Excel files into R.</p>
<section id="installing-and-loading-the-readxl-package" class="level3" data-number="12.3.1">
<h3 data-number="12.3.1" class="anchored" data-anchor-id="installing-and-loading-the-readxl-package"><span class="header-section-number">12.3.1</span> Installing and Loading the <code>readxl</code> Package</h3>
<p>To work with Excel files in R, you need the <code>readxl</code> package. If it’s not already installed, you can install and load it with the following commands:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"readxl"</span>)  <span class="do">## Install the package (run once)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)             <span class="do">## Load the package</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Once the <code>readxl</code> package is installed, you don’t need to install it again unless you are updating to a new version. However, you do need to load the package with <code>library(readxl)</code> every time you run your R script.</p>
<p>To avoid unnecessary installs, comment out the <code>install.packages()</code> line after the first installation. You should only keep the <code>library(readxl)</code> line active when running your code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("readxl")  ## Install the package (run once)</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)             <span class="do">## Load the package</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="importing-excel-data-through-rstudio-ide-generated-code" class="level3" data-number="12.3.2">
<h3 data-number="12.3.2" class="anchored" data-anchor-id="importing-excel-data-through-rstudio-ide-generated-code"><span class="header-section-number">12.3.2</span> Importing Excel Data through RStudio IDE-Generated Code</h3>
<p>RStudio provides a graphical interface for importing Excel files, which can be easier than writing code manually. This approach allows you to visually select your settings and have RStudio generate the corresponding R code for you.</p>
<section id="steps-to-import-excel-files-using-rstudio-ide" class="level4" data-number="12.3.2.1">
<h4 data-number="12.3.2.1" class="anchored" data-anchor-id="steps-to-import-excel-files-using-rstudio-ide"><span class="header-section-number">12.3.2.1</span> Steps to Import Excel Files Using RStudio IDE:</h4>
<ol type="1">
<li><p><strong>Navigate to the Files Pane</strong>: In the bottom-right corner of the RStudio interface, find the Files Pane where you can browse your local files.</p></li>
<li><p><strong>Select the Excel File</strong>: Click on the <code>.xlsx</code> file you want to import.</p></li>
<li><p><strong>Open the Import Wizard</strong>: RStudio will automatically launch the import wizard for Excel files.</p></li>
<li><p><strong>Configure the Import Settings</strong>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/RStudio_IDE_mc_xlsx.png" class="img-fluid figure-img"></p>
<figcaption>RStudio IDE Settings for Excel Files</figcaption>
</figure>
</div>
<ul>
<li><strong>Name</strong>: Specify the name of the imported tibble (data frame). R will suggest a default name, but you can change it.</li>
<li><strong>Sheet</strong>: Choose the worksheet you want to import (default is the first sheet).</li>
<li><strong>Range</strong>: Optionally, specify the range of cells to import if you only need part of the data.</li>
<li><strong>Max Rows</strong>: Limit the number of rows if needed.</li>
<li><strong>Skip</strong>: Skip a specific number of rows (useful for ignoring headers or metadata).</li>
<li><strong>NA Strings</strong>: Define any values that should be treated as missing (NA).</li>
<li><strong>First Row as Names</strong>: Check this box if the first row contains column names.</li>
<li><strong>Open Data Viewer</strong>: Optionally, check this box to view the data after import in RStudio’s spreadsheet-like viewer.</li>
</ul></li>
<li><p><strong>Save the Import Code</strong>: After completing the import, copy the generated R code from the console and paste it into your R script. This way, you can reuse the code for future imports without needing to reconfigure the settings.</p></li>
</ol>
</section>
</section>
<section id="importing-excel-data-through-ai-generated-code" class="level3" data-number="12.3.3">
<h3 data-number="12.3.3" class="anchored" data-anchor-id="importing-excel-data-through-ai-generated-code"><span class="header-section-number">12.3.3</span> Importing Excel Data through AI-Generated Code</h3>
<p>Importing Excel spreadsheets (<code>.xlsx</code>) through the RStudio IDE is intuitive and visual but it is also manual and not automatically reproducible. An AI can provide code for you R script that will work every time you need to import the data.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="AI Prompt:">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
AI Prompt:
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Importing <code>.xlsx</code> Data</strong>:<br>
<span style="color:#00796B">“Please provide the tidyverse code to import a <code>.xlsx</code> file named <code>data_file.xlsx</code> and name the resulting tibble <code>descriptive_name_data</code>.”</span></p>
</div>
</div>
<section id="importing-qualtrics-.xlsx-data-with-ai-generated-code" class="level4" data-number="12.3.3.1">
<h4 data-number="12.3.3.1" class="anchored" data-anchor-id="importing-qualtrics-.xlsx-data-with-ai-generated-code"><span class="header-section-number">12.3.3.1</span> Importing Qualtrics <code>.xlsx</code> Data with AI-Generated Code</h4>
<p>Qualtrics exports often contain metadata in both rows and columns. For example, the first and third rows, as well as certain columns, might include metadata you need to exclude. To handle this, you can use a more complex AI prompt like the one below.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="AI Prompt:">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
AI Prompt:
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Importing <code>.xlsx</code> Data with Metadata</strong>:<br>
</p>
<div style="color:#00796B">
<p>Please provide the tidyverse code to import an Excel file named <code>"long Qualtrics file name.xlsx"</code> with the following requirements:</p>
<ol type="1">
<li>The first row contains metadata and should be skipped.</li>
<li>The second row contains column names and should be used as headers.</li>
<li>The third row contains metadata and should be excluded.</li>
<li>Columns A through R (i.e., <code>Start Date</code> through <code>User Language</code>) contain metadata and should be excluded from the dataset.</li>
<li>Ensure that the data types are converted appropriately after import.</li>
<li>Name the resulting tibble <code>descriptive_name_data</code>.</li>
</ol>
</div>
</div>
</div>
<p>By using AI to generate the import code, you maintain reproducibility and can easily handle more complex import tasks, such as skipping metadata rows and columns.</p>
</section>
</section>
<section id="understanding-and-verifying-code-to-import-excel-data" class="level3" data-number="12.3.4">
<h3 data-number="12.3.4" class="anchored" data-anchor-id="understanding-and-verifying-code-to-import-excel-data"><span class="header-section-number">12.3.4</span> Understanding and Verifying Code to Import Excel Data</h3>
<section id="owning-your-code-1" class="level4" data-number="12.3.4.1">
<h4 data-number="12.3.4.1" class="anchored" data-anchor-id="owning-your-code-1"><span class="header-section-number">12.3.4.1</span> Owning Your Code</h4>
<p>When using RStudio’s IDE or AI-generated tools, the quality and reliability of the code depend on the clarity of your prompts or configuration choices. <strong>Owning the code</strong> means taking responsibility for what the code does, verifying its output, and being able to debug or modify it if needed. This becomes especially important when working with more complex data formats like Excel files.</p>
<p>Understanding and being able to read the code allows you to:</p>
<ol type="1">
<li><strong>Verify the functionality</strong>: Make sure the data imports correctly and any specified settings work as expected.</li>
<li><strong>Troubleshoot errors</strong>: Recognize and resolve common issues, such as misinterpreted data types or skipped rows.</li>
<li><strong>Adapt to new requirements</strong>: Modify code for different Excel files, sheets, or specific data ranges.</li>
</ol>
</section>
<section id="reference-code-template-for-excel-imports" class="level4" data-number="12.3.4.2">
<h4 data-number="12.3.4.2" class="anchored" data-anchor-id="reference-code-template-for-excel-imports"><span class="header-section-number">12.3.4.2</span> Reference Code Template for Excel Imports</h4>
<p>The <code>read_excel()</code> function from the <code>readxl</code> package is typically used to import Excel files into R. Below is a reference template that you can compare with your generated code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Template for importing Excel data</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"path/to/your/file.xlsx"</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">skip =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="do">## Skip the first row of metadata</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">|&gt;</span>                  <span class="do">## Remove the new first row (originally the third row) of metadata</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span>N)) <span class="sc">|&gt;</span>  <span class="do">## Exclude columns from column 1 through column N - can also use column headers</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">type.convert</span>().    <span class="do">## Re-evaluate the data types for all columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="explanation-1" class="level5" data-number="12.3.4.2.1">
<h5 data-number="12.3.4.2.1" class="anchored" data-anchor-id="explanation-1"><span class="header-section-number">12.3.4.2.1</span> Explanation:</h5>
<ol type="1">
<li><code>skip = 1</code>: Skips the first row of metadata, making the second row the column headers</li>
<li><code>slice(-1)</code>: Remove the new first row (originally the third row) of metadata</li>
<li><code>select(-(1:N))</code>: Exclude columns of metadata (1 through N) by their column numbers - can also exclude by their column names</li>
<li><code>type_convert()</code>: Automatically converts the data to appropriate types after cleaning.</li>
</ol>
<p>Replace “path/to/your/file.xlsx” with the actual file path, and modify the arguments based on your specific data needs. This code provides more control over the import process, allowing you to skip metadata rows, select a specific sheet, or limit the import to a defined range of cells.</p>
</section>
</section>
<section id="exercise-try-it-yourself-1" class="level4" data-number="12.3.4.3">
<h4 data-number="12.3.4.3" class="anchored" data-anchor-id="exercise-try-it-yourself-1"><span class="header-section-number">12.3.4.3</span> <span style="color:#3370F4">Exercise: Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<p>The cupcake entrepreneur is also considering a popup cinnamon roll stand. The Qualtrics dataset is an Excel file named <code>cinnamon_rolls.xlsx</code> and the file is located in the <code>data</code> subdirectory of this document. It has two sheets. The first sheet contains all of the original data where the first and third rows are meta data and columns A through N are also meta data. The second sheet has been edited in Excel to remove all meta data to include only customer data.</p>
<p>It is more reproducible to use code during data import than to manually edit the spreadsheet. Change the code to successfully import only the customer data (excluding the meta data) from the first sheet of the cinnamon rolls Excel file. Note that the customer data is found in columns O through X and there were 23 respondents.</p>
<p>Let’s import this Excel data file:</p>
<ol type="1">
<li>Name the data object <code>cinnamon_rolls_data</code></li>
<li>Skip the first row of metadata</li>
<li>Remove the remaining row of metadata if there is one</li>
<li>Exclude columns of metatdata</li>
<li>Re-evaluate the data types</li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-setup="true" data-exercise="cinnamon_rolls">
<script type="exercise-setup-cinnamon_rolls-contents">
eyJhdHRyIjp7ImV4ZXJjaXNlIjoiY2lubmFtb25fcm9sbHMiLCJ3YXJuaW5nIjpmYWxzZSwiZWRpdCI6dHJ1ZSwic2V0dXAiOnRydWUsImV2YWwiOnRydWV9LCJjb2RlIjoibGlicmFyeSh0aWJibGUpXG5saWJyYXJ5KHJlYWR4bCkifQ==
</script>
</div>
<div class="cell" data-exercise="cinnamon_rolls">
<div>
<div id="webr-6" class="exercise-cell">

</div>
<script type="webr-6-contents">
eyJhdHRyIjp7ImV4ZXJjaXNlIjoiY2lubmFtb25fcm9sbHMiLCJ3YXJuaW5nIjpmYWxzZSwiZWRpdCI6dHJ1ZSwiZXZhbCI6dHJ1ZX0sImNvZGUiOiJkYXRhIDwtIHJlYWRfZXhjZWwoXCJwYXRoL3RvL3lvdXIvZmlsZS54bHN4XCIpXG5kYXRhIn0=
</script>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<section id="hint-1-2" class="level4 hint webr-ojs-exercise exercise-hint d-none" data-exercise="cinnamon_rolls" data-number="12.3.4.4">
<h4 data-number="12.3.4.4" class="anchored" data-anchor-id="hint-1-2"><span class="header-section-number">12.3.4.4</span> Hint 1</h4>
<p>Change the arguments of the <code>read_excel()</code> function to specify the name of the data, and the skip argument to skip the first row of metadata. Then delete the remaining row of metadata (if there is one), exclude the columns of metadata, and re-evaluate the data types.</p>
</section>
<section id="hint-2-2" class="level4 hint webr-ojs-exercise exercise-hint d-none" data-exercise="cinnamon_rolls" data-number="12.3.4.5">
<h4 data-number="12.3.4.5" class="anchored" data-anchor-id="hint-2-2"><span class="header-section-number">12.3.4.5</span> Hint 2</h4>
<ol type="1">
<li>Change the data object name to <code>cinnamon_rolls_data</code></li>
<li>Set the <code>skip</code> argument to exclude the first row of metadata</li>
<li>Delete the remaining row of metadata (if there is one) with <code>slice()</code></li>
<li>Remove the columns of metadata with <code>select()</code></li>
<li>Re-evaluate the data types with <code>type.convert()</code></li>
</ol>
</section>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="cinnamon_rolls">
<p>Change the code to skip the first row of metadata making the second row column headers. Then remove the new first row of metadata because there is one, then exclude columns 1 through 14 containing metadata, and re-evaluate the data types.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>cinnamon_rolls_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/cinnamon_rolls.xlsx"</span>, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">skip =</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">14</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">type.convert</span>()</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>cinnamon_rolls_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol type="1">
<li>Specify the data object to be <code>cinnamon_rolls_data</code></li>
<li>Specify the path to the data to be <code>"data"</code></li>
<li>Change the name of the file to be imported to <code>cinnamon_rolls.xlsx</code></li>
<li>Skip the first row of metadata with <code>skip = 1</code></li>
<li>Remove the new first row of metadata with <code>slice(-1)</code></li>
<li>Exclude columns 1 through 14 that contain metadata with <code>select(-(1:14))</code></li>
<li>Convert the data types of the remaining variables with <code>type.convert()</code></li>
</ol>
</div>
</div>
</div>
</div>
<hr style="border:2px solid #3370F4">
</section>
</section>
<section id="advantages-of-using-excel-with-r" class="level3" data-number="12.3.5">
<h3 data-number="12.3.5" class="anchored" data-anchor-id="advantages-of-using-excel-with-r"><span class="header-section-number">12.3.5</span> Advantages of Using Excel with R</h3>
<ul>
<li><strong>Widely Used</strong>: Excel is one of the most popular spreadsheet tools, and many organizations use it to store data. Learning how to import Excel files into R allows you to leverage existing data sources efficiently.</li>
<li><strong>Multi-Sheet Support</strong>: Excel often contains multiple sheets of data, and <code>readxl</code> makes it easy to access specific sheets.</li>
<li><strong>No Need for External Dependencies</strong>: Unlike some other methods, <code>readxl</code> does not require external Java or Perl dependencies, making it lightweight and straightforward to use.</li>
</ul>
<p>By mastering Excel imports, you’ll be able to integrate datasets stored in spreadsheets into your R workflow seamlessly, allowing for further manipulation, analysis, and visualization.</p>
<hr style="border:4px solid #3370F4">
<p><br><br></p>
</section>
</section>
<section id="sec-google_sheets" class="level2" data-number="12.4">
<h2 data-number="12.4" class="anchored" data-anchor-id="sec-google_sheets"><span class="header-section-number">12.4</span> Importing Data from Google Sheets</h2>
<p>In addition to CSV and Excel files, you may often need to import data directly from Google Sheets. Google Sheets is a popular cloud-based spreadsheet application that allows you to share and collaborate on data. Using the <code>googlesheets4</code> package, you can import data directly from a Google Sheet into R.</p>
<section id="install-the-googlesheets4-package" class="level3" data-number="12.4.1">
<h3 data-number="12.4.1" class="anchored" data-anchor-id="install-the-googlesheets4-package"><span class="header-section-number">12.4.1</span> Install the <code>googlesheets4</code> Package</h3>
<p>If you haven’t already installed the <code>googlesheets4</code> package, you can do so by running the following command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"googlesheets4"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, load the package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(googlesheets4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="no-option-to-import-through-rstudio-ide-generated-code" class="level3" data-number="12.4.2">
<h3 data-number="12.4.2" class="anchored" data-anchor-id="no-option-to-import-through-rstudio-ide-generated-code"><span class="header-section-number">12.4.2</span> <strong>No Option to</strong> Import through RStudio IDE-Generated Code</h3>
<p>As we saw earlier, using the RStudio IDE to import data can be a helpful way to quickly set up an import. Unfortunately, RStudio has no option to import data from a Google Sheet using the graphical interface of the IDE. We must use AI-generated code or user-generated code to import data from a Google sheet.</p>
</section>
<section id="import-google-sheets-data-through-ai-generated-code" class="level3" data-number="12.4.3">
<h3 data-number="12.4.3" class="anchored" data-anchor-id="import-google-sheets-data-through-ai-generated-code"><span class="header-section-number">12.4.3</span> Import Google Sheets Data through AI-Generated Code</h3>
<p>To import a Google Sheet through AI, you need to provide the AI with the URL of your Google Sheet and specify the name you want to assign the dataset in R. Additionally, you’ll need to ensure the <code>googlesheets4</code> package is installed and loaded.</p>
<div class="callout callout-style-default callout-tip callout-titled" title="AI Prompt:">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
AI Prompt:
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Import Google Sheets data</strong>:</p>
<div style="color:#00796B">
<p>Please provide the tidyverse code to import a Google Sheet from the following URL: <code>https://docs.google.com/spreadsheets/d/your_sheet_id/edit</code> with the following requirements:</p>
<ol type="1">
<li>Use the <code>googlesheets4</code> package to read the data.</li>
<li>Ensure that any necessary authentication is handled (e.g., prompt for authorization).</li>
<li>Import the default sheet from the Google Sheet.</li>
<li>Name the resulting tibble <code>sheet_data</code>.</li>
</ol>
</div>
</div>
</div>
</section>
<section id="import-google-sheets-data-through-user-generated-code" class="level3" data-number="12.4.4">
<h3 data-number="12.4.4" class="anchored" data-anchor-id="import-google-sheets-data-through-user-generated-code"><span class="header-section-number">12.4.4</span> Import Google Sheets Data through User-Generated Code</h3>
<section id="understanding-and-verifying-the-ai-generated-code" class="level4" data-number="12.4.4.1">
<h4 data-number="12.4.4.1" class="anchored" data-anchor-id="understanding-and-verifying-the-ai-generated-code"><span class="header-section-number">12.4.4.1</span> Understanding and Verifying the AI-Generated Code</h4>
</section>
<section id="authorize-access-to-a-google-sheet" class="level4" data-number="12.4.4.2">
<h4 data-number="12.4.4.2" class="anchored" data-anchor-id="authorize-access-to-a-google-sheet"><span class="header-section-number">12.4.4.2</span> Authorize Access to a Google Sheet</h4>
<p>When you first attempt to read from a Google Sheet, <code>googlesheets4</code> will prompt you to authorize access to your Google account. This step allows R to read the data from your Google Sheets. You’ll be guided through a browser window where you’ll log into your Google account and grant permission.</p>
</section>
<section id="importing-data-from-google-sheets" class="level4" data-number="12.4.4.3">
<h4 data-number="12.4.4.3" class="anchored" data-anchor-id="importing-data-from-google-sheets"><span class="header-section-number">12.4.4.3</span> Importing Data from Google Sheets</h4>
<p>To read data from a Google Sheet, you will need the URL of the Google Sheet. Here’s an example of how to import data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Import data from a Google Sheet</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>sheet_url <span class="ot">&lt;-</span> <span class="st">"https://docs.google.com/spreadsheets/d/your_sheet_id/edit"</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_sheet</span>(sheet_url)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Replace <code>"https://docs.google.com/spreadsheets/d/your_sheet_id/edit"</code> with the actual URL of your Google Sheet.</p>
<section id="selecting-specific-sheets" class="level5" data-number="12.4.4.3.1">
<h5 data-number="12.4.4.3.1" class="anchored" data-anchor-id="selecting-specific-sheets"><span class="header-section-number">12.4.4.3.1</span> Selecting specific sheets</h5>
<p>If the Google Sheet contains multiple tabs, you can specify which sheet to read using the sheet argument:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_sheet</span>(sheet_url, <span class="at">sheet =</span> <span class="st">"Sheet2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The default name of the first Google worksheet is <code>Sheet1</code> in contrast to the default name of the first Excel worksheet <code>Sheet0</code>.</p>
</section>
<section id="specifying-a-range" class="level5" data-number="12.4.4.3.2">
<h5 data-number="12.4.4.3.2" class="anchored" data-anchor-id="specifying-a-range"><span class="header-section-number">12.4.4.3.2</span> Specifying a range</h5>
<p>You can also specify a particular range of cells to import:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_sheet</span>(sheet_url, <span class="at">range =</span> <span class="st">"A1:D10"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is particularly useful if you only need a subset of the data from the sheet.</p>
</section>
</section>
<section id="advantages-of-using-google-sheets" class="level4" data-number="12.4.4.4">
<h4 data-number="12.4.4.4" class="anchored" data-anchor-id="advantages-of-using-google-sheets"><span class="header-section-number">12.4.4.4</span> Advantages of Using Google Sheets</h4>
<ul>
<li><strong>Real-time collaboration</strong>: Google Sheets allows you to collaborate with others in real-time, making it ideal for shared data collection and updates.</li>
<li><strong>Cloud-based</strong>: Since Google Sheets is cloud-based, you can access the latest version of your data without needing to manually download and upload files.</li>
<li><strong>Simple integration with R</strong>: With <code>googlesheets4</code>, importing data from Google Sheets is as straightforward as reading a CSV file.</li>
</ul>
<p>By using Google Sheets in combination with R, you can work with dynamic datasets that are updated live, streamlining collaboration and analysis.</p>
<hr style="border:4px solid #3370F4">
<p><br><br></p>
</section>
</section>
</section>
<section id="sec-databases" class="level2" data-number="12.5">
<h2 data-number="12.5" class="anchored" data-anchor-id="sec-databases"><span class="header-section-number">12.5</span> Importing Data from Databases</h2>
<p>In many cases, data is stored in databases rather than in spreadsheets or files. R provides excellent tools for connecting to databases, querying data, and importing it for analysis. In this section, we will use the <code>DBI</code> package along with <code>RSQLite</code> to connect to SQLite databases. These tools are versatile and can also be adapted to connect to other database systems such as PostgreSQL, MySQL, or SQL Server with minimal changes.</p>
<p>If you haven’t already installed the <code>DBI</code> and <code>RSQLite</code> packages, you can do so by running the following commands. Then load the libraries:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Install the `DBI` and `RSQLite` Packages</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"DBI"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"RSQLite"</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="do">### Load the packages</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="connecting-to-an-sqlite-database" class="level3" data-number="12.5.1">
<h3 data-number="12.5.1" class="anchored" data-anchor-id="connecting-to-an-sqlite-database"><span class="header-section-number">12.5.1</span> Connecting to an SQLite Database</h3>
<p>SQLite is a lightweight, file-based database that is easy to work with. To connect to an SQLite database in R, use the <code>dbConnect()</code> function from the <code>DBI</code> package. Here’s an example of how to connect to an SQLite database:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Create a connection to the SQLite database</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">"path/to/your/database.sqlite"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Replace <code>"path/to/your/database.sqlite"</code> with the path to your SQLite database file.</p>
</section>
<section id="querying-data-from-the-database" class="level3" data-number="12.5.2">
<h3 data-number="12.5.2" class="anchored" data-anchor-id="querying-data-from-the-database"><span class="header-section-number">12.5.2</span> Querying Data from the Database</h3>
<p>Once you’ve established a connection, you can run SQL queries directly from R to extract the data you need. For example, you can use the <code>dbGetQuery()</code> function to run a SELECT query and store the result in a data frame:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="do">##  Run a SQL query and retrieve data</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(con, <span class="st">"SELECT * FROM your_table"</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="do">## View the data</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This command runs a SQL query that selects all the data from the specified table (<code>your_table</code>) in the database.</p>
</section>
<section id="exploring-tables-and-metadata" class="level3" data-number="12.5.3">
<h3 data-number="12.5.3" class="anchored" data-anchor-id="exploring-tables-and-metadata"><span class="header-section-number">12.5.3</span> Exploring Tables and Metadata</h3>
<p>You can explore the structure of your database and list all available tables with the following command:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="do">## List all tables in the database</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> <span class="fu">dbListTables</span>(con)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tables)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To examine the structure of a particular table, you can run:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="do">## List the fields in a specific table</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>fields <span class="ot">&lt;-</span> <span class="fu">dbListFields</span>(con, <span class="st">"your_table"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(fields)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This can be helpful when you need to understand the schema of the database.</p>
</section>
<section id="disconnecting-from-the-database" class="level3" data-number="12.5.4">
<h3 data-number="12.5.4" class="anchored" data-anchor-id="disconnecting-from-the-database"><span class="header-section-number">12.5.4</span> Disconnecting from the Database</h3>
<p>After you have finished working with the database, it is good practice to disconnect from it. Use the <code>dbDisconnect()</code> function to close the connection:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Disconnect from the database</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dbDisconnect</span>(con)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="using-databases-other-than-sqlite" class="level3" data-number="12.5.5">
<h3 data-number="12.5.5" class="anchored" data-anchor-id="using-databases-other-than-sqlite"><span class="header-section-number">12.5.5</span> Using Databases Other Than SQLite</h3>
<p>The process for connecting to other databases (such as PostgreSQL, MySQL, or SQL Server) is similar. The main difference is that you will use a different driver package specific to that database (e.g., <code>RPostgres</code> for <code>PostgreSQL</code>, <code>RMySQL</code> for <code>MySQL</code>).</p>
<p>Here’s an example of connecting to a PostgreSQL database:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Install the PostgreSQL driver</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"RPostgres"</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Load the package</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RPostgres)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Create a connection to a PostgreSQL database</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RPostgres<span class="sc">::</span><span class="fu">Postgres</span>(), <span class="at">dbname =</span> <span class="st">"your_db_name"</span>, <span class="at">host =</span> <span class="st">"localhost"</span>, <span class="at">port =</span> <span class="dv">5432</span>, <span class="at">user =</span> <span class="st">"your_username"</span>, <span class="at">password =</span> <span class="st">"your_password"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The same <code>DBI</code> functions like <code>dbGetQuery()</code>, <code>dbListTables()</code>, and <code>dbDisconnect()</code> will work with any database supported by <code>DBI.</code></p>
</section>
<section id="advantages-of-working-with-databases-in-r" class="level3" data-number="12.5.6">
<h3 data-number="12.5.6" class="anchored" data-anchor-id="advantages-of-working-with-databases-in-r"><span class="header-section-number">12.5.6</span> Advantages of Working with Databases in R</h3>
<ul>
<li><strong>Scalability</strong>: Databases can handle much larger datasets than spreadsheets or CSV files. By connecting to a database, you can query only the data you need, without loading everything into memory.</li>
<li><strong>Flexibility</strong>: Using SQL queries, you can filter, join, and aggregate data directly within the database, reducing the amount of data processing you need to do in R.</li>
<li><strong>Interoperability</strong>: The DBI package supports a wide range of databases, including SQLite, PostgreSQL, MySQL, SQL Server, and more, making it a versatile tool for data analysis.</li>
</ul>
<p>By using the <code>DBI</code> and <code>RSQLite</code> packages, you can seamlessly integrate databases into your R workflow, query data directly from the source, and manage large datasets with ease.</p>
<hr style="border:4px solid #3370F4">
<p><br><br></p>
</section>
</section>
<section id="sec-web_data" class="level2" data-number="12.6">
<h2 data-number="12.6" class="anchored" data-anchor-id="sec-web_data"><span class="header-section-number">12.6</span> Importing Web Data</h2>
<p>In our connected world, much valuable data resides online and is accessible through web services and APIs (Application Programming Interfaces). Using R, you can connect to these web services to pull in data directly. In this section, we will introduce how to use the <code>httr</code> package to access APIs and import data from web services into R.</p>
<p>APIs are commonly used to retrieve data from various platforms such as social media sites, financial databases, weather services, and more. The <code>httr</code> package makes it simple to send HTTP requests and retrieve data from these APIs.</p>
<section id="install-and-load-the-httr-package" class="level3" data-number="12.6.1">
<h3 data-number="12.6.1" class="anchored" data-anchor-id="install-and-load-the-httr-package"><span class="header-section-number">12.6.1</span> Install and Load the <code>httr</code> Package</h3>
<p>If you haven’t already installed the <code>httr</code> package, you can do so and then load the package with the following commands:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"httr"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="making-an-api-request" class="level3" data-number="12.6.2">
<h3 data-number="12.6.2" class="anchored" data-anchor-id="making-an-api-request"><span class="header-section-number">12.6.2</span> Making an API Request</h3>
<p>APIs usually require you to make HTTP requests, and they respond with data in formats such as JSON or XML. The <code>httr</code> package simplifies this process by providing functions to make requests and handle responses.</p>
<p>Here’s an example of how to make a GET request to an API:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Example: Making a GET request to a public API</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">"https://api.example.com/data"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Check the status of the response</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">status_code</span>(response)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="do">## View the content of the response</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="fu">content</span>(response, <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>GET()</code>: Sends a GET request to the API endpoint. Replace <code>"https://api.example.com/data"</code> with the actual API endpoint you want to query.</li>
<li><strong>status_code(response)</strong>: Returns the HTTP status code of the response. A status code of 200 means the request was successful.</li>
<li><strong>content(response, “text”)</strong>: Retrieves the content of the response as text. In many cases, the response will be in JSON format.</li>
</ul>
</section>
<section id="parsing-json-data" class="level3" data-number="12.6.3">
<h3 data-number="12.6.3" class="anchored" data-anchor-id="parsing-json-data"><span class="header-section-number">12.6.3</span> Parsing JSON Data</h3>
<p>APIs often return data in JSON (JavaScript Object Notation) format. After retrieving the response, you need to parse the JSON data and convert it into a format that R can work with, such as a data frame.</p>
<p>To parse JSON data, you can use the <code>jsonlite</code> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"jsonlite"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Parse the JSON content and convert it to a data frame</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="fu">content</span>(response, <span class="st">"text"</span>))</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="do">## View the data</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This code converts the JSON response into a data frame that you can use for further analysis in R.</p>
</section>
<section id="using-api-keys-and-authentication" class="level3" data-number="12.6.4">
<h3 data-number="12.6.4" class="anchored" data-anchor-id="using-api-keys-and-authentication"><span class="header-section-number">12.6.4</span> Using API Keys and Authentication</h3>
<p>Many APIs require an API key or some form of authentication to access the data. You will need to include your API key in the request headers. Here’s an example of how to make an authenticated request:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Example: Making an authenticated GET request</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>api_key <span class="ot">&lt;-</span> <span class="st">"your_api_key"</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">"https://api.example.com/data"</span>, <span class="fu">add_headers</span>(<span class="at">Authorization =</span> <span class="fu">paste</span>(<span class="st">"Bearer"</span>, api_key)))</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Parse the JSON content and convert it to a data frame</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="fu">content</span>(response, <span class="st">"text"</span>))</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="do">## View the data</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Replace <code>"your_api_key"</code> with the actual API key provided by the web service. The <code>add_headers()</code> function adds the necessary authorization to the request.</p>
</section>
<section id="examples" class="level3" data-number="12.6.5">
<h3 data-number="12.6.5" class="anchored" data-anchor-id="examples"><span class="header-section-number">12.6.5</span> Examples</h3>
<section id="data-on-the-international-space-stations-location-currently-in-space" class="level4" data-number="12.6.5.1">
<h4 data-number="12.6.5.1" class="anchored" data-anchor-id="data-on-the-international-space-stations-location-currently-in-space"><span class="header-section-number">12.6.5.1</span> Data on the International Space Station’s location currently in space</h4>
<p>Here’s an example of how you could use the httr package to fetch data on the location of the International Space Station (ISS) at this moment:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Make a GET request to Open Notify API (current ISS location)</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">"http://api.open-notify.org/iss-now.json"</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="fu">content</span>(response, <span class="st">"text"</span>))</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="do">## View the data</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This code sends a request to the open-notify.org API for the ISS location data. The JSON response is parsed and converted into a format you can analyze.</p>
</section>
<section id="get-random-images-and-facts-about-different-dog-breeds." class="level4" data-number="12.6.5.2">
<h4 data-number="12.6.5.2" class="anchored" data-anchor-id="get-random-images-and-facts-about-different-dog-breeds."><span class="header-section-number">12.6.5.2</span> Get random images and facts about different dog breeds.</h4>
<p>Here’s an example of how you could use the httr package to fetch data on random dog breeds:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Make a GET request to The Dog API (random dog image)</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">GET</span>(<span class="st">"https://dog.ceo/api/breeds/image/random"</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="fu">content</span>(response, <span class="st">"text"</span>))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="do">## View the data</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This code sends a request to the dog.ceo API for the url of a random dog breed. The JSON response is parsed and converted into a format you can analyze.</p>
<blockquote class="blockquote">
<p>Note that these examples are chosen to avoid providing a personal api. Usually, you would need to sign up for an account and log in. Once logged in, navigate to the API keys section and generate an API key. Copy the generated API key and paste it in the approprate place for an api key in your code.</p>
</blockquote>
</section>
</section>
<section id="advantages-of-importing-web-data" class="level3" data-number="12.6.6">
<h3 data-number="12.6.6" class="anchored" data-anchor-id="advantages-of-importing-web-data"><span class="header-section-number">12.6.6</span> Advantages of Importing Web Data</h3>
<ul>
<li><strong>Dynamic and Up-to-Date</strong>: Web APIs provide access to real-time data, such as stock prices, social media trends, or weather information.</li>
<li><strong>Automated Data Collection</strong>: Once you connect to an API, you can automate data collection, fetching the latest data without manual intervention.</li>
<li><strong>Access to Specialized Data</strong>: Many platforms, such as Twitter, Google, or financial services, expose their data through APIs, allowing you to leverage these valuable data sources in your analysis.</li>
</ul>
<p>By using APIs and the httr package, you can integrate real-time web data into your R workflows, opening up a wide range of possibilities for data analysis.</p>


<script type="webr-data">
eyJwYWNrYWdlcyI6eyJyZXBvcyI6W10sInBrZ3MiOlsiZXZhbHVhdGUiLCJrbml0ciIsImh0bWx0b29scyIsImRwbHlyIiwidGliYmxlIiwicmVhZHIiLCJyZWFkeGwiLCJoZXJlIl19LCJyZW5kZXJfZGYiOiJkZWZhdWx0Iiwib3B0aW9ucyI6eyJiYXNlVXJsIjoiaHR0cHM6Ly93ZWJyLnItd2FzbS5vcmcvdjAuNC4xLyJ9fQ==
</script>
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0IiwiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC02Iiwic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV82O1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIiwiaW5saW5lIjpmYWxzZX0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJ3ZWJyLTYiLCJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzYgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici02LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBleGVyY2lzZSBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIGlkOiBcIndlYnItNi1jb250ZW50c1wiLFxuICAgICAgZW52aXI6IGBleGVyY2lzZS1lbnYtJHtibG9jay5hdHRyLmV4ZXJjaXNlfWAsXG4gICAgICBlcnJvcjogZmFsc2UsXG4gICAgICBjYXB0aW9uOiAnRXhlcmNpc2UnLFxuICAgIH0sXG4gICAgYmxvY2suYXR0clxuICApO1xuXG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG4gIHJldHVybiBlZGl0b3IuY29udGFpbmVyO1xufVxudmlld29mIF93ZWJyX3ZhbHVlXzYgPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzYsIHt9KTtcbl93ZWJyX2ZlZWRiYWNrXzYgPSB7XG4gIGNvbnN0IHsgV2ViUkdyYWRlciB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3QgZW1wdHlGZWVkYmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIGNvbnN0IGdyYWRlciA9IG5ldyBXZWJSR3JhZGVyKF93ZWJyX3ZhbHVlXzYuZXZhbHVhdG9yKTtcbiAgY29uc3QgZmVlZGJhY2sgPSBhd2FpdCBncmFkZXIuZ3JhZGVFeGVyY2lzZSgpO1xuICBpZiAoIWZlZWRiYWNrKSByZXR1cm4gZW1wdHlGZWVkYmFjaztcbiAgcmV0dXJuIGZlZWRiYWNrO1xufVxuIiwiaW5saW5lIjpmYWxzZX0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJjZWxsTmFtZSI6IndlYnItd2lkZ2V0LTQiLCJzb3VyY2UiOiJ7XG4gIC8vIFdhaXQgZm9yIG91dHB1dCB0byBiZSB3cml0dGVuIHRvIHRoZSBET00sIHRoZW4gdHJpZ2dlciB3aWRnZXQgcmVuZGVyaW5nXG4gIGF3YWl0IF93ZWJyX3ZhbHVlXzQ7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4iLCJpbmxpbmUiOmZhbHNlfSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6IndlYnItNCIsInNvdXJjZSI6InZpZXdvZiBfd2Vicl9lZGl0b3JfNCA9IHtcbiAgY29uc3QgeyBXZWJSRXhlcmNpc2VFZGl0b3IsIGI2NERlY29kZSB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3Qgc2NyaXB0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ3ZWJyLTQtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICAvLyBEZWZhdWx0IGV4ZXJjaXNlIGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAge1xuICAgICAgaWQ6IFwid2Vici00LWNvbnRlbnRzXCIsXG4gICAgICBlbnZpcjogYGV4ZXJjaXNlLWVudi0ke2Jsb2NrLmF0dHIuZXhlcmNpc2V9YCxcbiAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgIGNhcHRpb246ICdFeGVyY2lzZScsXG4gICAgfSxcbiAgICBibG9jay5hdHRyXG4gICk7XG5cbiAgY29uc3QgZWRpdG9yID0gbmV3IFdlYlJFeGVyY2lzZUVkaXRvcih3ZWJST2pzLndlYlJQcm9taXNlLCBibG9jay5jb2RlLCBvcHRpb25zKTtcbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG52aWV3b2YgX3dlYnJfdmFsdWVfNCA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfNCwge30pO1xuX3dlYnJfZmVlZGJhY2tfNCA9IHtcbiAgY29uc3QgeyBXZWJSR3JhZGVyIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBlbXB0eUZlZWRiYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgY29uc3QgZ3JhZGVyID0gbmV3IFdlYlJHcmFkZXIoX3dlYnJfdmFsdWVfNC5ldmFsdWF0b3IpO1xuICBjb25zdCBmZWVkYmFjayA9IGF3YWl0IGdyYWRlci5ncmFkZUV4ZXJjaXNlKCk7XG4gIGlmICghZmVlZGJhY2spIHJldHVybiBlbXB0eUZlZWRiYWNrO1xuICByZXR1cm4gZmVlZGJhY2s7XG59XG4iLCJpbmxpbmUiOmZhbHNlfSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsImNlbGxOYW1lIjoid2Vici13aWRnZXQtMiIsInNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfMjtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiIsImlubGluZSI6ZmFsc2V9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoid2Vici0yIiwic291cmNlIjoidmlld29mIF93ZWJyX2VkaXRvcl8yID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItMi1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXhlcmNpc2UgY29uZmlndXJhdGlvblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICBpZDogXCJ3ZWJyLTItY29udGVudHNcIixcbiAgICAgIGVudmlyOiBgZXhlcmNpc2UtZW52LSR7YmxvY2suYXR0ci5leGVyY2lzZX1gLFxuICAgICAgZXJyb3I6IGZhbHNlLFxuICAgICAgY2FwdGlvbjogJ0V4ZXJjaXNlJyxcbiAgICB9LFxuICAgIGJsb2NrLmF0dHJcbiAgKTtcblxuICBjb25zdCBlZGl0b3IgPSBuZXcgV2ViUkV4ZXJjaXNlRWRpdG9yKHdlYlJPanMud2ViUlByb21pc2UsIGJsb2NrLmNvZGUsIG9wdGlvbnMpO1xuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbnZpZXdvZiBfd2Vicl92YWx1ZV8yID0gd2ViUk9qcy5wcm9jZXNzKF93ZWJyX2VkaXRvcl8yLCB7fSk7XG5fd2Vicl9mZWVkYmFja18yID0ge1xuICBjb25zdCB7IFdlYlJHcmFkZXIgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IGVtcHR5RmVlZGJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBjb25zdCBncmFkZXIgPSBuZXcgV2ViUkdyYWRlcihfd2Vicl92YWx1ZV8yLmV2YWx1YXRvcik7XG4gIGNvbnN0IGZlZWRiYWNrID0gYXdhaXQgZ3JhZGVyLmdyYWRlRXhlcmNpc2UoKTtcbiAgaWYgKCFmZWVkYmFjaykgcmV0dXJuIGVtcHR5RmVlZGJhY2s7XG4gIHJldHVybiBmZWVkYmFjaztcbn1cbiIsImlubGluZSI6ZmFsc2V9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0IiwiY2VsbE5hbWUiOiJ3ZWJyLXByZWx1ZGUiLCJzb3VyY2UiOiJ3ZWJST2pzID0ge1xuICBjb25zdCB7IFdlYlIgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWUuV2ViUjtcbiAgY29uc3Qge1xuICAgIFdlYlJFdmFsdWF0b3IsXG4gICAgV2ViUkVudmlyb25tZW50TWFuYWdlcixcbiAgICBzZXR1cFIsXG4gICAgYjY0RGVjb2RlLFxuICAgIGNvbGxhcHNlUGF0aFxuICB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcblxuICBjb25zdCBzdGF0dXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4ZXJjaXNlLWxvYWRpbmctc3RhdHVzXCIpO1xuICBjb25zdCBpbmRpY2F0b3JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4ZXJjaXNlLWxvYWRpbmctaW5kaWNhdG9yXCIpO1xuICBpbmRpY2F0b3JDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImQtbm9uZVwiKTtcblxuICBsZXQgc3RhdHVzVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgc3RhdHVzVGV4dC5jbGFzc0xpc3QgPSBcImV4ZXJjaXNlLWxvYWRpbmctZGV0YWlsc1wiO1xuICBzdGF0dXNUZXh0ID0gc3RhdHVzQ29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c1RleHQpO1xuICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYEluaXRpYWxpc2VgO1xuXG4gIC8vIEhvaXN0IGluZGljYXRvciBvdXQgZnJvbSBmaW5hbCBzbGlkZSB3aGVuIHJ1bm5pbmcgdW5kZXIgcmV2ZWFsXG4gIGNvbnN0IHJldmVhbFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2ZWFsIC5leGVyY2lzZS1sb2FkaW5nLWluZGljYXRvclwiKTtcbiAgaWYgKHJldmVhbFN0YXR1cykge1xuICAgIHJldmVhbFN0YXR1cy5yZW1vdmUoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJldmVhbCA+IC5zbGlkZXNcIikuYXBwZW5kQ2hpbGQocmV2ZWFsU3RhdHVzKTtcbiAgfVxuXG4gIC8vIE1ha2UgYW55IHJldmVhbCBzbGlkZXMgd2l0aCBsaXZlIGNlbGxzIHNjcm9sbGFibGVcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZlYWwgLmV4ZXJjaXNlLWNlbGxcIikuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBlbC5jbG9zZXN0KCdzZWN0aW9uLnNsaWRlJykuY2xhc3NMaXN0LmFkZChcInNjcm9sbGFibGVcIik7XG4gIH0pXG5cbiAgLy8gd2ViUiBzdXBwbGVtZW50YWwgZGF0YSBhbmQgb3B0aW9uc1xuICBjb25zdCBkYXRhQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ3ZWJyLWRhdGFcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShiNjREZWNvZGUoZGF0YUNvbnRlbnQpKTtcblxuICAvLyBHcmFiIGxpc3Qgb2YgcmVzb3VyY2VzIHRvIGJlIGRvd25sb2FkZWRcbiAgY29uc3QgZmlsZXNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcInZmcy1maWxlXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgZmlsZXMgPSBKU09OLnBhcnNlKGI2NERlY29kZShmaWxlc0NvbnRlbnQpKTtcblxuICAvLyBJbml0aWFsaXNlIHdlYlIgYW5kIHNldHVwIGZvciBSIGNvZGUgZXZhbHVhdGlvblxuICBsZXQgd2ViUlByb21pc2UgPSAoYXN5bmMgKHdlYlIpID0+IHtcbiAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYERvd25sb2FkaW5nIHdlYlJgO1xuICAgIGF3YWl0IHdlYlIuaW5pdCgpO1xuXG4gICAgLy8gSW5zdGFsbCBwcm92aWRlZCBsaXN0IG9mIHBhY2thZ2VzXG4gICAgLy8gRW5zdXJlIHdlYlIgZGVmYXVsdCByZXBvIGlzIGluY2x1ZGVkXG4gICAgZGF0YS5wYWNrYWdlcy5yZXBvcy5wdXNoKFwiaHR0cHM6Ly9yZXBvLnItd2FzbS5vcmdcIilcbiAgICBhd2FpdCBkYXRhLnBhY2thZ2VzLnBrZ3MubWFwKChwa2cpID0+ICgpID0+IHtcbiAgICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgRG93bmxvYWRpbmcgcGFja2FnZTogJHtwa2d9YDtcbiAgICAgIHJldHVybiB3ZWJSLmV2YWxSVm9pZChgXG4gICAgICAgIHdlYnI6Omluc3RhbGwocGtnLCByZXBvcyA9IHJlcG9zKVxuICAgICAgICBsaWJyYXJ5KHBrZywgY2hhcmFjdGVyLm9ubHkgPSBUUlVFKVxuICAgICAgYCwgeyBlbnY6IHtcbiAgICAgICAgcGtnOiBwa2csXG4gICAgICAgIHJlcG9zOiBkYXRhLnBhY2thZ2VzLnJlcG9zLFxuICAgICAgfX0pO1xuICAgIH0pLnJlZHVjZSgoY3VyLCBuZXh0KSA9PiBjdXIudGhlbihuZXh0KSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuXG4gICAgLy8gRG93bmxvYWQgYW5kIGluc3RhbGwgcmVzb3VyY2VzXG4gICAgYXdhaXQgZmlsZXMubWFwKChmaWxlKSA9PiBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gZmlsZS5zdWJzdHJpbmcoZmlsZS5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYERvd25sb2FkaW5nIHJlc291cmNlOiAke25hbWV9YDtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmlsZSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgZG93bmxvYWQgXFxgJHtmaWxlfVxcYC4gRXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9OiBcIiR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1cIi5gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuXG4gICAgICAvLyBTdG9yZSBVUkxzIGluIHRoZSBjd2Qgd2l0aG91dCBhbnkgc3ViZGlyZWN0b3J5IHN0cnVjdHVyZVxuICAgICAgaWYgKGZpbGUuaW5jbHVkZXMoXCI6Ly9cIikpIHtcbiAgICAgICAgZmlsZSA9IG5hbWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbGxhcHNlIGhpZ2hlciBkaXJlY3Rvcnkgc3RydWN0dXJlXG4gICAgICBmaWxlID0gY29sbGFwc2VQYXRoKGZpbGUpO1xuXG4gICAgICAvLyBDcmVhdGUgZGlyZWN0b3J5IHRyZWUsIGlnbm9yaW5nIFwiZGlyZWN0b3J5IGV4aXN0c1wiIFZGUyBlcnJvcnNcbiAgICAgIGNvbnN0IHBhcnRzID0gZmlsZS5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKTtcbiAgICAgIGxldCBwYXRoID0gJyc7XG4gICAgICB3aGlsZSAocGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXRoICs9IHBhcnRzLnNoaWZ0KCkgKyAnLyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgd2ViUi5GUy5ta2RpcihwYXRoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmICghZS5tZXNzYWdlLmluY2x1ZGVzKFwiRlMgZXJyb3JcIikpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFdyaXRlIHRoaXMgZmlsZSB0byB0aGUgVkZTXG4gICAgICByZXR1cm4gYXdhaXQgd2ViUi5GUy53cml0ZUZpbGUoZmlsZSwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgIH0pLnJlZHVjZSgoY3VyLCBuZXh0KSA9PiBjdXIudGhlbihuZXh0KSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuXG4gICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBJbnN0YWxsaW5nIHdlYlIgc2hpbXNgO1xuICAgIGF3YWl0IHdlYlIuZXZhbFJWb2lkKGB3ZWJyOjpzaGltX2luc3RhbGwoKWApO1xuXG4gICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBXZWJSIGVudmlyb25tZW50IHNldHVwYDtcbiAgICBhd2FpdCBzZXR1cFIod2ViUiwgZGF0YSk7XG5cbiAgICBzdGF0dXNUZXh0LnJlbW92ZSgpO1xuICAgIGlmIChzdGF0dXNDb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcbiAgICAgIHN0YXR1c0NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gd2ViUjtcbiAgfSkobmV3IFdlYlIoZGF0YS5vcHRpb25zKSk7XG5cbiAgLy8gS2VlcCB0cmFjayBvZiBpbml0aWFsIE9KUyBibG9jayByZW5kZXJcbiAgY29uc3QgcmVuZGVyZWRPanMgPSB7fTtcblxuICBjb25zdCBwcm9jZXNzID0gYXN5bmMgKGNvbnRleHQsIGlucHV0cykgPT4ge1xuICAgIGNvbnN0IHdlYlIgPSBhd2FpdCB3ZWJSUHJvbWlzZTtcbiAgICBjb25zdCBldmFsdWF0b3IgPSBuZXcgV2ViUkV2YWx1YXRvcih3ZWJSLCBjb250ZXh0KVxuICAgIGF3YWl0IGV2YWx1YXRvci5wcm9jZXNzKGlucHV0cyk7XG4gICAgcmV0dXJuIGV2YWx1YXRvci5jb250YWluZXI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHByb2Nlc3MsXG4gICAgd2ViUlByb21pc2UsXG4gICAgcmVuZGVyZWRPanMsXG4gIH07XG59XG4iLCJpbmxpbmUiOmZhbHNlfV19
</script>
<div id="exercise-loading-indicator" class="exercise-loading-indicator d-none d-flex align-items-center gap-2">
<div id="exercise-loading-status" class="d-flex gap-2">

</div>
<div class="spinner-grow spinner-grow-sm">

</div>
</div>
<script type="vfs-file">
WyJkYXRhL2hhbG9fYWxlcnQueGxzeCIsImRhdGEvfiRjaW5uYW1vbl9yb2xscy54bHN4IiwiZGF0YS9tdXNjbGVfY29sYS5jc3YiLCJkYXRhL2hhbG9fYWxlcnQuY3N2IiwiZGF0YS9jaW5uYW1vbl9yb2xscy5jc3YiLCJkYXRhL2xpYmVydHlfc2hpcC54bHN4IiwiZGF0YS9tdXNjbGVfY29sYS5yZHMiLCJkYXRhL2N1cGNha2VzLnhsc3giLCJkYXRhL2Npbm5hbW9uX3JvbGxzLnhsc3giLCJkYXRhL2N1cGNha2VzLmNzdiIsImRhdGEvbGliZXJ0eV9zaGlwLmNzdiIsImRhdGEvbXVzY2xlX2NvbGEueGxzeCJd
</script>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Leave the default Locale setting unless you are working with European CSVs where the file uses commas for decimals and periods for thousands separators.; dealing with data from multiple countries with different encoding, date formats, or language-based special characters; or when text includes special non-ASCII characters (e.g., accented letters).<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>In CSV files, escaping is necessary when you want to include characters that otherwise have a special meaning in the file, such as the delimiter (comma) or quotation marks within a field, without breaking the file’s structure.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W119
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./use_R.html" class="pagination-link" aria-label="Introduction to Using R">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Using R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./inspect.html" class="pagination-link" aria-label="Inspecting and Understanding Data">
        <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Inspecting and Understanding Data</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>