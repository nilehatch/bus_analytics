<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>15&nbsp; Visualizing Data – An Introduction to Business Analytics for Entrepreneurs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./univariate.html" rel="next">
<link href="./eda.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/live-runtime/live-runtime.js" type="module"></script>
<link href="site_libs/quarto-contrib/live-runtime/live-runtime.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">An Introduction to Business Analytics for Entrepreneurs</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./eda.html">EDA</a></li><li class="breadcrumb-item"><a href="./visualize.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Visualizing Data</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Uncertainty</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Uncertainty and Entrepreneurship</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./epistemology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Epistemology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ds_ent.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Business Analytics in Evidence-based Entrepreneurship</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./public_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Public Data Sources for Business Analytics in Entrepreneurship</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./private_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Private Data Sources for Business Analytics in Entrepreneurship</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./customer_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Customer Data Sources for Business Analytics in Entrepreneurship</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Data in R</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data Analytics in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Installing R, RStudio, and Libraries</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./use_R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Introduction to Using R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Importing Data into R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./inspect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Inspecting and Understanding Data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">EDA</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eda.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis (EDA)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./visualize.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Visualizing Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./univariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Univariate EDA</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Transforming Data</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Modeling Data</span></span>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction-to-data-visualization" id="toc-introduction-to-data-visualization" class="nav-link active" data-scroll-target="#introduction-to-data-visualization"><span class="header-section-number">16</span> Introduction to Data Visualization</a></li>
  <li><a href="#basic-principles-of-good-data-visualization" id="toc-basic-principles-of-good-data-visualization" class="nav-link" data-scroll-target="#basic-principles-of-good-data-visualization"><span class="header-section-number">17</span> Basic Principles of Good Data Visualization</a>
  <ul class="collapse">
  <li><a href="#clarity" id="toc-clarity" class="nav-link" data-scroll-target="#clarity"><span class="header-section-number">17.1</span> 1. Clarity</a></li>
  <li><a href="#honesty" id="toc-honesty" class="nav-link" data-scroll-target="#honesty"><span class="header-section-number">17.2</span> 2. Honesty</a></li>
  <li><a href="#audience-awareness" id="toc-audience-awareness" class="nav-link" data-scroll-target="#audience-awareness"><span class="header-section-number">17.3</span> 3. Audience Awareness</a></li>
  <li><a href="#minimize-cognitive-load" id="toc-minimize-cognitive-load" class="nav-link" data-scroll-target="#minimize-cognitive-load"><span class="header-section-number">17.4</span> 4. Minimize Cognitive Load</a></li>
  <li><a href="#consistency" id="toc-consistency" class="nav-link" data-scroll-target="#consistency"><span class="header-section-number">17.5</span> 5. Consistency</a></li>
  <li><a href="#data-ink-ratio" id="toc-data-ink-ratio" class="nav-link" data-scroll-target="#data-ink-ratio"><span class="header-section-number">17.6</span> 6. Data-Ink Ratio</a></li>
  </ul></li>
  <li><a href="#visualizing-data-with-the-grammar-of-graphics" id="toc-visualizing-data-with-the-grammar-of-graphics" class="nav-link" data-scroll-target="#visualizing-data-with-the-grammar-of-graphics"><span class="header-section-number">18</span> Visualizing Data with The Grammar of Graphics</a>
  <ul class="collapse">
  <li><a href="#example-basic-plot-with-ggplot2" id="toc-example-basic-plot-with-ggplot2" class="nav-link" data-scroll-target="#example-basic-plot-with-ggplot2"><span class="header-section-number">18.1</span> Example: Basic Plot with <code>ggplot2</code></a></li>
  <li><a href="#import-the-data" id="toc-import-the-data" class="nav-link" data-scroll-target="#import-the-data"><span class="header-section-number">18.2</span> Import the data</a></li>
  <li><a href="#inspect-the-data" id="toc-inspect-the-data" class="nav-link" data-scroll-target="#inspect-the-data"><span class="header-section-number">18.3</span> Inspect the data</a></li>
  <li><a href="#install-and-load-the-ggplot2-package-then-call-the-ggplot-function" id="toc-install-and-load-the-ggplot2-package-then-call-the-ggplot-function" class="nav-link" data-scroll-target="#install-and-load-the-ggplot2-package-then-call-the-ggplot-function"><span class="header-section-number">18.4</span> 0. Install and load the <code>ggplot2</code> package then call the <code>ggplot()</code> function</a></li>
  <li><a href="#specify-the-data" id="toc-specify-the-data" class="nav-link" data-scroll-target="#specify-the-data"><span class="header-section-number">18.5</span> 1. Specify the Data</a></li>
  <li><a href="#map-the-aesthetics" id="toc-map-the-aesthetics" class="nav-link" data-scroll-target="#map-the-aesthetics"><span class="header-section-number">18.6</span> 2. Map the Aesthetics</a>
  <ul class="collapse">
  <li><a href="#adding-additional-aesthetic-mappings" id="toc-adding-additional-aesthetic-mappings" class="nav-link" data-scroll-target="#adding-additional-aesthetic-mappings"><span class="header-section-number">18.7.1</span> Adding Additional Aesthetic Mappings</a></li>
  <li><a href="#aesthetics-in-layers" id="toc-aesthetics-in-layers" class="nav-link" data-scroll-target="#aesthetics-in-layers"><span class="header-section-number">18.8.1</span> Aesthetics in Layers</a></li>
  <li><a href="#summary-of-aesthetic-mappings" id="toc-summary-of-aesthetic-mappings" class="nav-link" data-scroll-target="#summary-of-aesthetic-mappings"><span class="header-section-number">18.8.2</span> Summary of Aesthetic Mappings</a></li>
  </ul></li>
  <li><a href="#geometric-objects-geoms" id="toc-geometric-objects-geoms" class="nav-link" data-scroll-target="#geometric-objects-geoms"><span class="header-section-number">18.9</span> 3. Geometric Objects (geoms)</a></li>
  <li><a href="#labels-and-titles" id="toc-labels-and-titles" class="nav-link" data-scroll-target="#labels-and-titles"><span class="header-section-number">18.11</span> 4. Labels and Titles</a></li>
  <li><a href="#scales" id="toc-scales" class="nav-link" data-scroll-target="#scales"><span class="header-section-number">18.13</span> 5. Scales</a>
  <ul class="collapse">
  <li><a href="#adjusting-color-scales" id="toc-adjusting-color-scales" class="nav-link" data-scroll-target="#adjusting-color-scales"><span class="header-section-number">18.13.1</span> Adjusting Color Scales</a></li>
  <li><a href="#adding-currency-to-scales" id="toc-adding-currency-to-scales" class="nav-link" data-scroll-target="#adding-currency-to-scales"><span class="header-section-number">18.13.2</span> Adding Currency to Scales</a></li>
  <li><a href="#recap-of-scales" id="toc-recap-of-scales" class="nav-link" data-scroll-target="#recap-of-scales"><span class="header-section-number">18.13.3</span> Recap of Scales:</a></li>
  </ul></li>
  <li><a href="#facets" id="toc-facets" class="nav-link" data-scroll-target="#facets"><span class="header-section-number">18.15</span> 6. Facets</a>
  <ul class="collapse">
  <li><a href="#example-using-facet_wrap" id="toc-example-using-facet_wrap" class="nav-link" data-scroll-target="#example-using-facet_wrap"><span class="header-section-number">18.15.1</span> Example: Using <code>facet_wrap()</code></a></li>
  <li><a href="#example-using-facet_grid" id="toc-example-using-facet_grid" class="nav-link" data-scroll-target="#example-using-facet_grid"><span class="header-section-number">18.15.2</span> Example: Using <code>facet_grid()</code></a></li>
  <li><a href="#why-use-facets" id="toc-why-use-facets" class="nav-link" data-scroll-target="#why-use-facets"><span class="header-section-number">18.15.3</span> Why Use Facets?</a></li>
  </ul></li>
  <li><a href="#themes" id="toc-themes" class="nav-link" data-scroll-target="#themes"><span class="header-section-number">18.17</span> 7. Themes</a>
  <ul class="collapse">
  <li><a href="#default-theme-theme_gray" id="toc-default-theme-theme_gray" class="nav-link" data-scroll-target="#default-theme-theme_gray"><span class="header-section-number">18.17.1</span> Default Theme: <code>theme_gray()</code></a></li>
  <li><a href="#customizing-the-theme" id="toc-customizing-the-theme" class="nav-link" data-scroll-target="#customizing-the-theme"><span class="header-section-number">18.17.2</span> Customizing the Theme</a></li>
  <li><a href="#example-customizing-specific-theme-elements" id="toc-example-customizing-specific-theme-elements" class="nav-link" data-scroll-target="#example-customizing-specific-theme-elements"><span class="header-section-number">18.17.3</span> Example: Customizing Specific Theme Elements</a></li>
  <li><a href="#example-using-external-themes-ggthemes" id="toc-example-using-external-themes-ggthemes" class="nav-link" data-scroll-target="#example-using-external-themes-ggthemes"><span class="header-section-number">18.17.4</span> Example: Using External Themes (<code>ggthemes</code>)</a></li>
  <li><a href="#why-use-themes" id="toc-why-use-themes" class="nav-link" data-scroll-target="#why-use-themes"><span class="header-section-number">18.17.5</span> Why Use Themes?</a></li>
  <li><a href="#recap-of-themes" id="toc-recap-of-themes" class="nav-link" data-scroll-target="#recap-of-themes"><span class="header-section-number">18.17.6</span> Recap of Themes:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">19</span> Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./eda.html">EDA</a></li><li class="breadcrumb-item"><a href="./visualize.html"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Visualizing Data</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Visualizing Data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction-to-data-visualization" class="level1" data-number="16">
<h1 data-number="16"><span class="header-section-number">16</span> Introduction to Data Visualization</h1>
<p>Data visualization is an essential part of any data analysis. It allows us to see patterns, relationships, and trends that are difficult to grasp from raw data alone. A good visualization clarifies, communicates, and uncovers insights, while a bad visualization can mislead or obscure important information.</p>
<p>In this chapter, we’ll cover the basic principles of effective data visualization and introduce you to the powerful <code>ggplot2</code> package in R, which follows the grammar of graphics framework to build layered and flexible visualizations.</p>
</section>
<section id="basic-principles-of-good-data-visualization" class="level1" data-number="17">
<h1 data-number="17"><span class="header-section-number">17</span> Basic Principles of Good Data Visualization</h1>
<p>Before diving into coding, let’s discuss some basic principles to keep in mind when creating visualizations:</p>
<section id="clarity" class="level2" data-number="17.1">
<h2 data-number="17.1" class="anchored" data-anchor-id="clarity"><span class="header-section-number">17.1</span> 1. Clarity</h2>
<p>Your visualization should make the data easier to understand, not harder. Always strive for simplicity and clarity by avoiding unnecessary elements (e.g., 3D effects, excessive gridlines). Every component should contribute to conveying the data’s message.</p>
</section>
<section id="honesty" class="level2" data-number="17.2">
<h2 data-number="17.2" class="anchored" data-anchor-id="honesty"><span class="header-section-number">17.2</span> 2. Honesty</h2>
<p>Ensure that your visual representation of data is honest and accurate. This includes using appropriate scales, avoiding distortion (e.g., truncated y-axes that exaggerate differences), and choosing the right chart type for your data.</p>
</section>
<section id="audience-awareness" class="level2" data-number="17.3">
<h2 data-number="17.3" class="anchored" data-anchor-id="audience-awareness"><span class="header-section-number">17.3</span> 3. Audience Awareness</h2>
<p>Always consider the audience when designing a visualization. What message are you trying to communicate, and who will be interpreting it? Tailor your visualization to the needs and experience level of your audience.</p>
</section>
<section id="minimize-cognitive-load" class="level2" data-number="17.4">
<h2 data-number="17.4" class="anchored" data-anchor-id="minimize-cognitive-load"><span class="header-section-number">17.4</span> 4. Minimize Cognitive Load</h2>
<p>The visualization should be intuitive and easy to read. Minimize the amount of mental effort your audience needs to interpret the graphic. Use familiar chart types and avoid clutter.</p>
</section>
<section id="consistency" class="level2" data-number="17.5">
<h2 data-number="17.5" class="anchored" data-anchor-id="consistency"><span class="header-section-number">17.5</span> 5. Consistency</h2>
<p>Maintain consistent use of colors, scales, and labels. Consistency across visualizations helps the audience compare different aspects of the data and improves the overall readability of your report or presentation.</p>
</section>
<section id="data-ink-ratio" class="level2" data-number="17.6">
<h2 data-number="17.6" class="anchored" data-anchor-id="data-ink-ratio"><span class="header-section-number">17.6</span> 6. Data-Ink Ratio</h2>
<p>This principle, popularized by Edward Tufte, suggests that the proportion of “data ink” (the ink used to represent the actual data) to non-data ink (decorations, gridlines, etc.) should be maximized. In other words, reduce chartjunk and highlight the data.</p>
<hr style="border:4px solid #3370F4">
<p><br><br></p>
</section>
</section>
<section id="visualizing-data-with-the-grammar-of-graphics" class="level1" data-number="18">
<h1 data-number="18"><span class="header-section-number">18</span> Visualizing Data with The Grammar of Graphics</h1>
<p>Now that we’ve covered the key principles, let’s move on to visualizing data in R using the <code>ggplot2</code> package. <code>ggplot2</code> follows the <strong>Grammar of Graphics</strong> framework, which breaks down a plot into layers, allowing for flexible and modular plotting.</p>
<p>At the core of <code>ggplot2</code> is the idea that any plot can be described by the following elements:</p>
<ol type="1">
<li><strong>Data</strong>: The dataset being visualized.</li>
<li><strong>Aesthetic mappings (aes)</strong>: The visual properties of the data (e.g., position, color, size) that correspond to the variables in the dataset.</li>
<li><strong>Geometric objects (geoms)</strong>: The shapes that represent the data, such as points, lines, and bars.</li>
<li><strong>Labels and Titles</strong>: Plot titles and axes labels to make the plot more informative.</li>
<li><strong>Scales</strong>: How data values are mapped to visual properties like axes, colors, or sizes.</li>
<li><strong>Facets</strong>: Dividing data into subplots.</li>
<li><strong>Themes</strong>: Control the visual appearance of the plot.</li>
</ol>
<section id="example-basic-plot-with-ggplot2" class="level2" data-number="18.1">
<h2 data-number="18.1" class="anchored" data-anchor-id="example-basic-plot-with-ggplot2"><span class="header-section-number">18.1</span> Example: Basic Plot with <code>ggplot2</code></h2>
<p>Let’s walk through a simple example of how <code>ggplot2</code> works by exploring data from the production of Liberty ships during World War II. These ships played a crucial role in supporting the Allied war effort by maintaining supply lines across the Atlantic. By the end of the war, ship production time was reduced from 244 days to just 42 days.</p>
<p>For this demonstration, we will focus on just two variables:</p>
<ul>
<li><code>Total_Production_Days</code>: the total number of days required to build and deliver a ship.</li>
<li><code>Direct_Hours</code>: the total direct labor hours spent on constructing each ship.</li>
</ul>
<p>We’ll use these two variables to create a scatter plot and explore their relationship.</p>
</section>
<section id="import-the-data" class="level2" data-number="18.2">
<h2 data-number="18.2" class="anchored" data-anchor-id="import-the-data"><span class="header-section-number">18.2</span> Import the data</h2>
<p>Before we create the plot, we first need to import the dataset. The Liberty ship data is stored in a CSV file named <code>liberty_ship.csv</code>, located in the <code>data</code> subdirectory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import the cupcakes.csv dataset</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>liberty_ship_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/liberty_ship.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>liberty_ship_data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,571 × 18
    Unit   Way Keel_Date Delivery_Date Yard_Cost Procurement_Cost
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;             &lt;dbl&gt;            &lt;dbl&gt;
 1     1     1 4/30/41   12/30/41        1613203           888165
 2     2     2 5/15/41   1/19/42         1545574           888165
 3     3     3 6/21/41   1/29/42         1470687           888165
 4     4     4 6/21/41   2/9/42          1421123           888165
 5     5     5 7/15/41   2/20/42         1397852           888165
 6     6     6 7/15/41   2/27/42         1354256           888165
 7     8     8 8/25/41   3/30/42         1267658           888165
 8     9     9 9/3/41    3/18/42         1151856           888165
 9    10    10 9/12/41   4/11/42         1236111           888165
10    11    11 9/22/41   5/9/42          1236111           888165
# ℹ 1,561 more rows
# ℹ 12 more variables: Facilities_Cost &lt;dbl&gt;, Admin_Cost &lt;dbl&gt;, TC &lt;dbl&gt;,
#   VC &lt;dbl&gt;, FC &lt;dbl&gt;, Yard &lt;chr&gt;, Direct_Hours &lt;dbl&gt;, Indirect_Hours &lt;dbl&gt;,
#   Total_ManHours &lt;dbl&gt;, Way_Days &lt;dbl&gt;, Outfitting_Days &lt;dbl&gt;,
#   Total_Production_Days &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="inspect-the-data" class="level2" data-number="18.3">
<h2 data-number="18.3" class="anchored" data-anchor-id="inspect-the-data"><span class="header-section-number">18.3</span> Inspect the data</h2>
<p>By inspecting the data, we can confirm that it loaded correctly and get a quick overview before visualizing it. The <code>glimpse()</code> and <code>summary()</code> functions give us a snapshot of the Liberty ship dataset:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(liberty_ship_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,571
Columns: 18
$ Unit                  &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, …
$ Way                   &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 1, 12, 13, 2, 14…
$ Keel_Date             &lt;chr&gt; "4/30/41", "5/15/41", "6/21/41", "6/21/41", "7/1…
$ Delivery_Date         &lt;chr&gt; "12/30/41", "1/19/42", "1/29/42", "2/9/42", "2/2…
$ Yard_Cost             &lt;dbl&gt; 1613203, 1545574, 1470687, 1421123, 1397852, 135…
$ Procurement_Cost      &lt;dbl&gt; 888165, 888165, 888165, 888165, 888165, 888165, …
$ Facilities_Cost       &lt;dbl&gt; 88815, 86414, 83755, 81995, 81169, 79621, 76546,…
$ Admin_Cost            &lt;dbl&gt; 25666.00, 24972.00, 24204.00, 23695.00, 23457.00…
$ TC                    &lt;dbl&gt; 2615849, 2545125, 2466811, 2414978, 2390643, 234…
$ VC                    &lt;dbl&gt; 2501368, 2433739, 2358852, 2309288, 2286017, 224…
$ FC                    &lt;dbl&gt; 114481.00, 111386.00, 107959.00, 105690.00, 1046…
$ Yard                  &lt;chr&gt; "Bethlehem", "Bethlehem", "Bethlehem", "Bethlehe…
$ Direct_Hours          &lt;dbl&gt; 870870, 831745, 788406, 758934, 735197, 710342, …
$ Indirect_Hours        &lt;dbl&gt; 327818, 313916, 308175, 293346, 283848, 271138, …
$ Total_ManHours        &lt;dbl&gt; 1198688, 1145661, 1096581, 1052280, 1019045, 981…
$ Way_Days              &lt;dbl&gt; 150, 163, 147, 168, 144, 168, 174, 143, 163, 187…
$ Outfitting_Days       &lt;dbl&gt; 94, 86, 75, 65, 76, 59, 43, 53, 48, 42, 48, 44, …
$ Total_Production_Days &lt;dbl&gt; 244, 249, 222, 233, 220, 227, 217, 196, 211, 229…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(liberty_ship_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      Unit            Way          Keel_Date         Delivery_Date     
 Min.   :  1.0   Min.   : 1.000   Length:1571        Length:1571       
 1st Qu.: 66.0   1st Qu.: 3.000   Class :character   Class :character  
 Median :133.0   Median : 6.000   Mode  :character   Mode  :character  
 Mean   :148.1   Mean   : 6.651                                        
 3rd Qu.:219.5   3rd Qu.: 9.000                                        
 Max.   :384.0   Max.   :16.000                                        
                 NA's   :157                                           
   Yard_Cost       Procurement_Cost Facilities_Cost    Admin_Cost   
 Min.   : 603097   Min.   :855740   Min.   : 31201   Min.   :15303  
 1st Qu.: 826826   1st Qu.:888165   1st Qu.: 60830   1st Qu.:17584  
 Median : 947467   Median :888165   Median : 65149   Median :18828  
 Mean   : 978385   Mean   :888791   Mean   : 66308   Mean   :19173  
 3rd Qu.:1073430   3rd Qu.:888165   3rd Qu.: 69694   3rd Qu.:20141  
 Max.   :2761167   Max.   :934797   Max.   :129575   Max.   :37445  
                                                                    
       TC                VC                FC             Yard          
 Min.   : 980605   Min.   :1491262   Min.   : 48887   Length:1571       
 1st Qu.:1791562   1st Qu.:1713678   1st Qu.: 78410   Class :character  
 Median :1919645   Median :1834307   Median : 83977   Mode  :character  
 Mean   :1951953   Mean   :1867175   Mean   : 85481                     
 3rd Qu.:2052374   3rd Qu.:1962728   3rd Qu.: 89835                     
 Max.   :3816352   Max.   :3649332   Max.   :167020                     
                                                                        
  Direct_Hours     Indirect_Hours   Total_ManHours       Way_Days     
 Min.   : 204392   Min.   : 81932   Min.   : 294050   Min.   : 19.00  
 1st Qu.: 320056   1st Qu.:117214   1st Qu.: 441120   1st Qu.: 29.00  
 Median : 393819   Median :131615   Median : 525441   Median : 37.00  
 Mean   : 418706   Mean   :145781   Mean   : 564487   Mean   : 45.84  
 3rd Qu.: 488927   3rd Qu.:152636   3rd Qu.: 642348   3rd Qu.: 46.00  
 Max.   :1260947   Max.   :474058   Max.   :1735005   Max.   :291.00  
                                                      NA's   :122     
 Outfitting_Days  Total_Production_Days
 Min.   :  4.00   Min.   : 26.00       
 1st Qu.: 11.00   1st Qu.: 42.00       
 Median : 14.00   Median : 50.00       
 Mean   : 18.62   Mean   : 64.46       
 3rd Qu.: 19.00   3rd Qu.: 65.00       
 Max.   :147.00   Max.   :332.00       
 NA's   :122      NA's   :122          </code></pre>
</div>
</div>
<p>These functions allow us to quickly verify that the dataset includes all expected variables and to get a general sense of the data’s distribution and structure.</p>
<p>Now that we’ve inspected the data, let’s visualize the relationship between <code>Total_Production_Days</code> ( the total number of days required to build and deliver a ship.) and <code>Direct_Hours</code> (the total direct labor hours required to build each ship).</p>
<p>Remember, we will follow the grammar of graphics principles:</p>
<ol type="1">
<li>Data</li>
<li>Aesthetic mappings (aes)</li>
<li>Geometric objects (geoms)</li>
<li>Titles and Labels</li>
<li>Scales</li>
<li>Facets</li>
<li>Themes</li>
</ol>
</section>
<section id="install-and-load-the-ggplot2-package-then-call-the-ggplot-function" class="level2" data-number="18.4">
<h2 data-number="18.4" class="anchored" data-anchor-id="install-and-load-the-ggplot2-package-then-call-the-ggplot-function"><span class="header-section-number">18.4</span> 0. Install and load the <code>ggplot2</code> package then call the <code>ggplot()</code> function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggplot2") # Install ggplot2 (if needed)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Load ggplot2</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Call the ggplot function with no arguments</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Since we haven’t provided any data or aesthetic mappings, R returns an empty rectangle. This serves as a placeholder for the plot, showing that we’ll build it layer by layer.</p>
<hr style="border:4px solid #3370F4">
<p><br></p>
</section>
<section id="specify-the-data" class="level2" data-number="18.5">
<h2 data-number="18.5" class="anchored" data-anchor-id="specify-the-data"><span class="header-section-number">18.5</span> 1. Specify the Data</h2>
<p>The next step is to specify the dataset that will be plotted.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>At this point, we’ve specified that we want to explore the Liberty ship dataset, but we haven’t yet told <code>ggplot()</code> which variables we want to plot, so nothing is shown. The plot remains an empty canvas until we declare which variables to use in the plot. In the next step, we will map our variables to create the plot.</p>
<hr style="border:4px solid #3370F4">
<p><br></p>
</section>
<section id="map-the-aesthetics" class="level2" data-number="18.6">
<h2 data-number="18.6" class="anchored" data-anchor-id="map-the-aesthetics"><span class="header-section-number">18.6</span> 2. Map the Aesthetics</h2>
<p>Aesthetic mappings in <code>ggplot()</code> define how variables in your dataset are visually represented in the plot. The simplest form of aesthetic mapping is to declare which variable will be placed on the x-axis and which will be placed on the y-axis. This is done using the <code>aes()</code> function (short for “aesthetics”).</p>
<p>In this example, we will map <code>Direct_Hours</code> to the x-axis and <code>Total_Production_Days</code> to the y-axis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now, the plot is starting to take shape. <code>Direct_Hours</code> is mapped to the x-axis, with a range automatically set from 0 to around 1,250,000, reflecting the range of direct labor hours in the dataset. Similarly, <code>Total_Production_Days</code> is mapped to the y-axis, with a range from 0 to around 350, based on the values in that variable.</p>
<p>At this point, the axes are scaled, but we still don’t see any data points because we haven’t added any geometric objects to represent the data visually. To see the data, we need to add a <code>geom</code>—in this case, <code>geom_point()</code> to create a scatter plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now that we’ve added a geometric object, the aesthetic mappings become visible. The points are positioned based on <code>Direct_Hours</code> and <code>Total_Production_Days.</code></p>
<section id="try-it-yourself" class="level4" data-number="18.6.0.1">
<h4 data-number="18.6.0.1" class="anchored"><span class="header-section-number">18.6.0.1</span> <span style="color:#3370F4">Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<p>The customer data about the protein-infused Muscle Cola is already imported here as <code>muscle_cola_data</code>. Generate a scatter plot of the willingness to pay of the respondents <code>WTP</code> in the x-axis and the number of servings they would consume per month <code>Quantity</code> in the y-axis.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-setup="true" data-exercise="plot1">
<script type="exercise-setup-plot1-contents">
eyJjb2RlIjoibXVzY2xlX2NvbGFfZGF0YSA8LSByZWFkX2NzdihcImRhdGEvbXVzY2xlX2NvbGEuY3N2XCIpIiwiYXR0ciI6eyJldmFsIjp0cnVlLCJlZGl0Ijp0cnVlLCJleGVyY2lzZSI6InBsb3QxIiwic2V0dXAiOnRydWV9fQ==
</script>
</div>
<div class="cell" data-exercise="plot1">
<div>
<div id="webr-2" class="exercise-cell">

</div>
<script type="webr-2-contents">
eyJjb2RlIjoiZ2xpbXBzZShtdXNjbGVfY29sYV9kYXRhKVxuZ2dwbG90KCkiLCJhdHRyIjp7ImV2YWwiOnRydWUsImVkaXQiOnRydWUsImV4ZXJjaXNlIjoicGxvdDEifX0=
</script>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot1">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-1" class="level3" data-number="18.6.1">
<h3 data-number="18.6.1" class="anchored" data-anchor-id="hint-1"><span class="header-section-number">18.6.1</span> Hint 1</h3>
<p>Build your plot from layers beginning with specifying the dataset, then specifying aesthetic mapping of the x- and y-variables, then declaring the geometry to plot the data points.</p>
</section>
</div>
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot1">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-2" class="level3" data-number="18.6.2">
<h3 data-number="18.6.2" class="anchored" data-anchor-id="hint-2"><span class="header-section-number">18.6.2</span> Hint 2</h3>
<p>Inside the <code>ggplot</code> function, add the argument that the dataset is <code>muscle_cola_data</code> and the aesthetic mapping <code>aes()</code> the specifies that willingness to pay <code>WTP</code> is the x variable and <code>Quantity</code> is the y variable. Then call the <code>geom_point()</code> function to plot the data as points (scatter plot).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--:::-->
</section>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="plot1">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="fully-worked-solution" class="level2" data-number="18.7">
<h2 data-number="18.7" class="anchored" data-anchor-id="fully-worked-solution"><span class="header-section-number">18.7</span> Fully worked solution:</h2>
<p>As arguments to the <code>ggplot()</code> function, declare the data as <code>muscle_cola_data</code> and the aesthetic mapping as <code>aes(x = WTP, y = Quantity)</code>. Then call the <code>geom_point()</code> function to plot the data as points.</p>
<div class="sourceCode" id="annotated-cell-28"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-28-1" class="code-annotation-target"><a href="#annotated-cell-28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(muscle_cola_data,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-28-2" class="code-annotation-target"><a href="#annotated-cell-28-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-28-3" class="code-annotation-target"><a href="#annotated-cell-28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-28" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="1" data-code-annotation="1">Call the <code>ggplot()</code> function and specify <code>muscle_cola_data</code> as the data</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="2" data-code-annotation="2">Specify that aesthetic mapping with <code>WTP</code> plotted on the x-axis and <code>Quantity</code> on the y-axis</span>
</dd>
<dt data-target-cell="annotated-cell-28" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="3" data-code-annotation="3">Call the <code>geom_point()</code> function to get a scatter plot of points</span>
</dd>
</dl>
</section>
</div>
</div>
</div>
</div>
<hr style="border:2px solid #3370F4">
</section>
<section id="adding-additional-aesthetic-mappings" class="level3" data-number="18.7.1">
<h3 data-number="18.7.1" class="anchored"><span class="header-section-number">18.7.1</span> Adding Additional Aesthetic Mappings</h3>
<p>In addition to mapping the x and y variables, we can map other aesthetic properties such as <code>color</code>, <code>shape</code>, <code>size</code>, and <code>linewidth</code> to variables in our dataset, and they will apply to all geoms unless overridden within a specific <code>geom</code>.</p>
<ul>
<li><strong>Color</strong>: We can use color to differentiate between categories in the data.</li>
<li><strong>Shape</strong>: Shape can be used to differentiate categories in scatter plots.</li>
<li><strong>Size</strong>: Size can represent a numeric variable, making points larger or smaller based on values.</li>
<li><strong>Linewidth</strong>: If you are drawing lines, you can use linewidth to control the thickness of the lines.</li>
</ul>
<p>Here’s how to map the variable <code>Yard</code> to color to show how different shipyards affect the relationship between production time and labor hours:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days, <span class="at">color =</span> Yard)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this <code>case</code>, color differentiates the shipyards, and each point will be colored according to which shipyard built that ship. This helps to visually distinguish groups within the data.</p>
<p>We can also add other aesthetic mappings, such as <code>size</code>, to show the relationship between additional variables:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days, <span class="at">color =</span> Yard, <span class="at">size =</span> Total_ManHours)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, the size of each point corresponds to the total number of man-hours required for each ship, providing additional insight into how labor hours relate to production time.</p>
<section id="try-it-yourself-1" class="level4" data-number="18.7.1.1">
<h4 data-number="18.7.1.1" class="anchored"><span class="header-section-number">18.7.1.1</span> <span style="color:#3370F4">Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<p>Now map the variable <code>Gym_member</code> to color to show how gym membership affects the relationship between willingness to pay <code>WTP</code> and consumption <code>Quantity.</code></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-setup="true" data-exercise="plot2">
<script type="exercise-setup-plot2-contents">
eyJjb2RlIjoibXVzY2xlX2NvbGFfZGF0YSA8LSByZWFkX2NzdihcImRhdGEvbXVzY2xlX2NvbGEuY3N2XCIpIiwiYXR0ciI6eyJldmFsIjp0cnVlLCJlZGl0Ijp0cnVlLCJleGVyY2lzZSI6InBsb3QyIiwic2V0dXAiOnRydWV9fQ==
</script>
</div>
<div class="cell" data-exercise="plot2">
<div>
<div id="webr-4" class="exercise-cell">

</div>
<script type="webr-4-contents">
eyJjb2RlIjoiZ2xpbXBzZShtdXNjbGVfY29sYV9kYXRhKVxuZ2dwbG90KCkiLCJhdHRyIjp7ImV2YWwiOnRydWUsImVkaXQiOnRydWUsImV4ZXJjaXNlIjoicGxvdDIifX0=
</script>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot2">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-1-1" class="level3" data-number="18.7.2">
<h3 data-number="18.7.2" class="anchored" data-anchor-id="hint-1-1"><span class="header-section-number">18.7.2</span> Hint 1</h3>
<p>Re-build your plot from layers beginning with specifying the dataset, then specifying aesthetic mapping of the x- and y-variables as well as the aesthetic mapping of gym membership to color. Then declare the geometry to plot the data points.</p>
</section>
</div>
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot2">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-2-1" class="level3" data-number="18.7.3">
<h3 data-number="18.7.3" class="anchored" data-anchor-id="hint-2-1"><span class="header-section-number">18.7.3</span> Hint 2</h3>
<p>Inside the <code>ggplot</code> function, add the argument that the dataset is <code>muscle_cola_data</code> and the aesthetic mapping <code>aes()</code> the specifies that willingness to pay <code>WTP</code> is the x variable and <code>Quantity</code> is the y variable. Add an argument inside the aesthetic mapping that maps color to <code>Gym_member</code>. Then call the <code>geom_point()</code> function to plot the data as points (scatter plot).</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity, <span class="at">color =</span> Gym_member)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--:::-->
</section>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="plot2">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="fully-worked-solution-1" class="level2" data-number="18.8">
<h2 data-number="18.8" class="anchored" data-anchor-id="fully-worked-solution-1"><span class="header-section-number">18.8</span> Fully worked solution:</h2>
<p>As arguments to the <code>ggplot()</code> function, declare the data as <code>muscle_cola_data</code> and the aesthetic mapping as <code>aes(x = WTP, y = Quantity, color = Gym_member)</code>. Then call the <code>geom_point()</code> function to plot the data as points.</p>
<div class="sourceCode" id="annotated-cell-30"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-30-1" class="code-annotation-target"><a href="#annotated-cell-30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(muscle_cola_data,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-30-2" class="code-annotation-target"><a href="#annotated-cell-30-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity, <span class="at">color =</span> Gym_member)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-30-3" class="code-annotation-target"><a href="#annotated-cell-30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-30" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="1" data-code-annotation="1">Call the <code>ggplot()</code> function and specify <code>muscle_cola_data</code> as the data</span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="2" data-code-annotation="2">Specify that aesthetic mapping with <code>WTP</code> plotted on the x-axis and <code>Quantity</code> on the y-axis, adding the mapping of color to <code>Gym_member</code></span>
</dd>
<dt data-target-cell="annotated-cell-30" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="3" data-code-annotation="3">Call the <code>geom_point()</code> function to get a scatter plot of points</span>
</dd>
</dl>
</section>
</div>
</div>
</div>
</div>
<hr style="border:2px solid #3370F4">
</section>
</section>
<section id="aesthetics-in-layers" class="level3" data-number="18.8.1">
<h3 data-number="18.8.1" class="anchored" data-anchor-id="aesthetics-in-layers"><span class="header-section-number">18.8.1</span> Aesthetics in Layers</h3>
<p>In some cases, you may want to apply aesthetic mappings only to specific <code>geoms</code>. Aesthetic mappings can be defined within individual layers (<code>geoms</code>), allowing you to control the appearance of different geoms independently. For example, we can apply color to the points while adding a line connecting the points, showing the sequence of production time and labor hours:</p>
<!--


::: {.cell}

```{.r .cell-code}
ggplot(liberty_ship_data,
       aes(x = Direct_Hours, y = Total_Production_Days)) +
  geom_point(aes(color = Yard)) +         # Color by shipyard in the point layer
  geom_text(aes(label = Yard), vjust = -1) # Add text labels for each point
```

::: {.cell-output-display}
![](visualize_files/figure-html/unnamed-chunk-15-1.png){width=672}
:::
:::


-->
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>         <span class="co"># Color by shipyard in the point layer</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()                             <span class="co"># Add a line connecting the points</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-of-aesthetic-mappings" class="level3" data-number="18.8.2">
<h3 data-number="18.8.2" class="anchored" data-anchor-id="summary-of-aesthetic-mappings"><span class="header-section-number">18.8.2</span> Summary of Aesthetic Mappings</h3>
<p>To summarize, aesthetic mappings allow you to represent variables in your data through different visual properties, such as:</p>
<ul>
<li><strong>x and y positions</strong>: Mapped using <code>aes(x = , y = )</code>.</li>
<li><strong>color</strong>: Used to visually separate categories.</li>
<li><strong>shape</strong>: Differentiates categories in scatter plots.</li>
<li><strong>size</strong>: Represents numeric variables by adjusting the size of points.</li>
<li><strong>linewidth</strong>: Controls line thickness for line-based <code>geoms</code> like <code>geom_line()</code> or <code>geom_smooth()</code>.</li>
</ul>
<hr style="border:4px solid #3370F4">
<p><br></p>
</section>
</section>
<section id="geometric-objects-geoms" class="level2" data-number="18.9">
<h2 data-number="18.9" class="anchored" data-anchor-id="geometric-objects-geoms"><span class="header-section-number">18.9</span> 3. Geometric Objects (geoms)</h2>
<p>Even though we’ve mapped the variables to the axes, the data isn’t yet visible because we haven’t specified how to represent it. This is where we declare the geometric object or <code>geom</code>. The <code>geom</code> defines the shape that will be used to display the data.</p>
<p>In this case, we will use <code>geom_point()</code> to add a layer of points to the plot, where each point represents a single observation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> liberty_ship_data,</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, <code>geom_point()</code> adds a scatter plot layer, with each point corresponding to a pair of values from <code>Total_Production_Days</code> and <code>Direct_Hours.</code> Now we can see the data, where each point represents one Liberty ship’s production time and labor hours.</p>
<section id="try-it-yourself-2" class="level4" data-number="18.9.0.1">
<h4 data-number="18.9.0.1" class="anchored"><span class="header-section-number">18.9.0.1</span> <span style="color:#3370F4">Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<ol type="1">
<li>Plot the relationship between willingness to pay <code>WTP</code> and monthly consumption <code>Quantity.</code></li>
<li>Map the variable <code>Gym_member</code> to color to show how gym membership affects the relationship between willingness to pay <code>WTP</code> and consumption <code>Quantity.</code></li>
<li>Map the length of the respondent’s workout <code>Workout_length</code> to shape to show how workout length affects the relationship.</li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-setup="true" data-exercise="plot3">
<script type="exercise-setup-plot3-contents">
eyJjb2RlIjoibXVzY2xlX2NvbGFfZGF0YSA8LSByZWFkX2NzdihcImRhdGEvbXVzY2xlX2NvbGEuY3N2XCIpIiwiYXR0ciI6eyJldmFsIjp0cnVlLCJlZGl0Ijp0cnVlLCJleGVyY2lzZSI6InBsb3QzIiwic2V0dXAiOnRydWV9fQ==
</script>
</div>
<div class="cell" data-exercise="plot3">
<div>
<div id="webr-6" class="exercise-cell">

</div>
<script type="webr-6-contents">
eyJjb2RlIjoiZ2xpbXBzZShtdXNjbGVfY29sYV9kYXRhKVxuZ2dwbG90KCkiLCJhdHRyIjp7ImV2YWwiOnRydWUsImVkaXQiOnRydWUsImV4ZXJjaXNlIjoicGxvdDMifX0=
</script>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot3">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-1-2" class="level3" data-number="18.9.1">
<h3 data-number="18.9.1" class="anchored" data-anchor-id="hint-1-2"><span class="header-section-number">18.9.1</span> Hint 1</h3>
<p>Re-build your plot from layers beginning with specifying the dataset, then specifying aesthetic mapping of the x- and y-variables as well as the aesthetic mapping of gym membership to color. Inside a new aesthetic mapping in the point geometry, map the shape of the point to the length of the workout. Then declare the geometry to plot the data points.</p>
</section>
</div>
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot3">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-2-2" class="level3" data-number="18.9.2">
<h3 data-number="18.9.2" class="anchored" data-anchor-id="hint-2-2"><span class="header-section-number">18.9.2</span> Hint 2</h3>
<p>Inside the <code>ggplot</code> function, add the argument that the dataset is <code>muscle_cola_data</code> and the aesthetic mapping <code>aes()</code> the specifies that willingness to pay <code>WTP</code> is the x variable and <code>Quantity</code> is the y variable. Add an argument inside the aesthetic mapping that maps color to <code>Gym_member</code>. Then call the <code>geom_point()</code> function to plot the data as points (scatter plot). Add an aesthetic mapping of <code>shape</code> to <code>Workout_length</code> inside the <code>geom_point()</code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> Gym_member))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--:::-->
</section>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="plot3">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="fully-worked-solution-2" class="level2" data-number="18.10">
<h2 data-number="18.10" class="anchored" data-anchor-id="fully-worked-solution-2"><span class="header-section-number">18.10</span> Fully worked solution:</h2>
<p>As arguments to the <code>ggplot()</code> function, declare the data as <code>muscle_cola_data</code> and the aesthetic mapping as <code>aes(x = WTP, y = Quantity, color = Gym_member)</code>. Then call the <code>geom_point()</code> function to plot the data as points.</p>
<div class="sourceCode" id="annotated-cell-32"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-32-1" class="code-annotation-target"><a href="#annotated-cell-32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(muscle_cola_data,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-32-2" class="code-annotation-target"><a href="#annotated-cell-32-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity, <span class="at">color =</span> Gym_member)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-32-3" class="code-annotation-target"><a href="#annotated-cell-32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> Workout_length))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-32" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="1" data-code-annotation="1">Call the <code>ggplot()</code> function and specify <code>muscle_cola_data</code> as the data</span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="2" data-code-annotation="2">Specify that aesthetic mapping with <code>WTP</code> plotted on the x-axis and <code>Quantity</code> on the y-axis, adding the mapping of color to <code>Gym_member</code></span>
</dd>
<dt data-target-cell="annotated-cell-32" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="3" data-code-annotation="3">Call the <code>geom_point()</code> function to get a scatter plot of points and add the aesthetic that maps <code>shape</code> to the <code>Workout_length</code></span>
</dd>
</dl>
</section>
</div>
</div>
</div>
</div>
<hr style="border:4px solid #3370F4">
<p><br></p>
</section>
</section>
<section id="labels-and-titles" class="level2" data-number="18.11">
<h2 data-number="18.11" class="anchored" data-anchor-id="labels-and-titles"><span class="header-section-number">18.11</span> 4. Labels and Titles</h2>
<p>To make the plot more informative, we can add titles and labels for the axes. This helps clarify what the variables represent and provides context for the viewer.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Production Days"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this plot:</p>
<ul>
<li><strong>title</strong>: Describes what the plot is about.</li>
<li><strong>x and y labels</strong>: Make the axes clear so viewers know what each variable represents.</li>
</ul>
<section id="try-it-yourself-3" class="level4" data-number="18.11.0.1">
<h4 data-number="18.11.0.1" class="anchored"><span class="header-section-number">18.11.0.1</span> <span style="color:#3370F4">Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<ol type="1">
<li><p>Plot the relationship between willingness to pay <code>WTP</code> and monthly consumption <code>Quantity.</code></p></li>
<li><p>Map the variable <code>Gym_member</code> to color to show how gym membership affects the relationship between willingness to pay <code>WTP</code> and consumption <code>Quantity.</code></p></li>
<li><p>Map the length of the respondent’s workout <code>Workout_length</code> to shape to show how workout length affects the relationship.</p></li>
<li><p>Add title and axes labels</p>
<ul>
<li>Make the title “Willingness to Pay and Consume Muscle Cola”</li>
<li>Make the x-axis “Willingness to Pay”</li>
<li>Make the y-axis “Quantity Consumed”</li>
</ul></li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell" data-setup="true" data-exercise="plot4">
<script type="exercise-setup-plot4-contents">
eyJjb2RlIjoibXVzY2xlX2NvbGFfZGF0YSA8LSByZWFkX2NzdihcImRhdGEvbXVzY2xlX2NvbGEuY3N2XCIpIiwiYXR0ciI6eyJldmFsIjp0cnVlLCJlZGl0Ijp0cnVlLCJleGVyY2lzZSI6InBsb3Q0Iiwic2V0dXAiOnRydWV9fQ==
</script>
</div>
<div class="cell" data-exercise="plot4">
<div>
<div id="webr-8" class="exercise-cell">

</div>
<script type="webr-8-contents">
eyJjb2RlIjoiZ2xpbXBzZShtdXNjbGVfY29sYV9kYXRhKVxuZ2dwbG90KCkiLCJhdHRyIjp7ImV2YWwiOnRydWUsImVkaXQiOnRydWUsImV4ZXJjaXNlIjoicGxvdDQifX0=
</script>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot4">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-1-3" class="level3" data-number="18.11.1">
<h3 data-number="18.11.1" class="anchored" data-anchor-id="hint-1-3"><span class="header-section-number">18.11.1</span> Hint 1</h3>
<p>Re-build your plot from layers beginning with specifying the dataset, then specifying aesthetic mapping of the x- and y-variables as well as the aesthetic mapping of gym membership to color. Inside a new aesthetic mapping in the point geometry, map the shape of the point to the length of the workout. Then declare the geometry to plot the data points. Then add the title and labels as instructed.</p>
</section>
</div>
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot4">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-2-3" class="level3" data-number="18.11.2">
<h3 data-number="18.11.2" class="anchored" data-anchor-id="hint-2-3"><span class="header-section-number">18.11.2</span> Hint 2</h3>
<p>Inside the <code>ggplot</code> function, add the argument that the dataset is <code>muscle_cola_data</code> and the aesthetic mapping <code>aes()</code> the specifies that willingness to pay <code>WTP</code> is the x variable and <code>Quantity</code> is the y variable. Add an argument inside the aesthetic mapping that maps color to <code>Gym_member</code>. Then call the <code>geom_point()</code> function to plot the data as points (scatter plot). Add an aesthetic mapping of <code>shape</code> to <code>Workout_length</code> inside the <code>geom_point()</code>. Then call the <code>labs()</code> function using arguments <code>title = "Willingness to Pay and Consume Muscle Cola", x = "Willingness to Pay", y = "Quantity Consumed"</code>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Willingness to Pay and Consume Muscle Cola"</span>, </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Willingness to Pay"</span>, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Quantity Consumed"</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--:::-->
</section>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="plot4">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="fully-worked-solution-3" class="level2" data-number="18.12">
<h2 data-number="18.12" class="anchored" data-anchor-id="fully-worked-solution-3"><span class="header-section-number">18.12</span> Fully worked solution:</h2>
<p>As arguments to the <code>ggplot()</code> function, declare the data as <code>muscle_cola_data</code> and the aesthetic mapping as <code>aes(x = WTP, y = Quantity, color = Gym_member)</code>. Then call the <code>geom_point()</code> function to plot the data as points. Then call the <code>labs()</code> function to add the title and axes labels.</p>
<div class="sourceCode" id="annotated-cell-34"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-34-1" class="code-annotation-target"><a href="#annotated-cell-34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(muscle_cola_data,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-34-2" class="code-annotation-target"><a href="#annotated-cell-34-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity, <span class="at">color =</span> Gym_member)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-34-3" class="code-annotation-target"><a href="#annotated-cell-34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> Workout_length)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-34-4" class="code-annotation-target"><a href="#annotated-cell-34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Willingness to Pay and Consume Muscle Cola"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-34-5" class="code-annotation-target"><a href="#annotated-cell-34-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Willingness to Pay"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-34-6" class="code-annotation-target"><a href="#annotated-cell-34-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Quantity Consumed"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-34" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="1" data-code-annotation="1">Call the <code>ggplot()</code> function and specify <code>muscle_cola_data</code> as the data</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="2" data-code-annotation="2">Specify that aesthetic mapping with <code>WTP</code> plotted on the x-axis and <code>Quantity</code> on the y-axis, adding the mapping of color to <code>Gym_member</code></span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="3" data-code-annotation="3">Call the <code>geom_point()</code> function to get a scatter plot of points and add the aesthetic that maps <code>shape</code> to the <code>Workout_length</code></span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="4" data-code-annotation="4">Call the <code>labs()</code> function and specify the <code>title</code></span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="5" data-code-annotation="5">Specify the x-axis label</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="6" data-code-annotation="6">Specify the y-axis label</span>
</dd>
</dl>
</section>
</div>
</div>
</div>
</div>
<hr style="border:4px solid #3370F4">
<p><br></p>
</section>
</section>
<section id="scales" class="level2" data-number="18.13">
<h2 data-number="18.13" class="anchored" data-anchor-id="scales"><span class="header-section-number">18.13</span> 5. Scales</h2>
<p>Scales define how your data values are translated into visual properties such as axis ranges, color gradients, or point sizes. Scales are an important tool when you need to refine the default behavior of <code>ggplot2.</code></p>
<p>Adjusting Axis Scales You can use <code>scale_x_continuous()</code> and <code>scale_y_continuous()</code> to control the appearance of the x- and y-axes. For instance, you may want to limit the range of the axes or change the axis labels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Production Days"</span>) <span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1500000</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1500000</span>, <span class="dv">250000</span>), <span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">400</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">400</span>, <span class="dv">50</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this example:</p>
<ul>
<li><strong>limits</strong>: Define the minimum and maximum range for the axis.</li>
<li><strong>breaks</strong>: Specify the intervals for the axis ticks to make the plot more readable.</li>
</ul>
<section id="adjusting-color-scales" class="level3" data-number="18.13.1">
<h3 data-number="18.13.1" class="anchored" data-anchor-id="adjusting-color-scales"><span class="header-section-number">18.13.1</span> Adjusting Color Scales</h3>
<p>You can control the color scale with <code>scale_color_manual()</code> or <code>scale_color_gradient()</code> when you want specific colors for categories or continuous data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Production Days"</span>) <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>, <span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"purple"</span>, <span class="st">"orange"</span>, <span class="st">"yellow"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this example, we manually assign colors to different shipyards using <code>scale_color_manual()</code>.</p>
<p>Alternatively, for continuous data, you can use <code>scale_color_gradient()</code> to create a color gradient based on the data values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days, <span class="at">color =</span> Total_ManHours)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span>                    <span class="co"># Points colored by total man-hours</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Production Days"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this case:</p>
<ul>
<li><code>scale_color_gradient()</code>: Maps the values of <code>Total_ManHours</code> to a gradient ranging from blue (low values) to red (high values).</li>
</ul>
</section>
<section id="adding-currency-to-scales" class="level3" data-number="18.13.2">
<h3 data-number="18.13.2" class="anchored" data-anchor-id="adding-currency-to-scales"><span class="header-section-number">18.13.2</span> Adding Currency to Scales</h3>
<p>When dealing with financial data, you may need to format axis labels to display values as currency. In <code>ggplot2</code>, this can be done using the <code>scales</code> package, which provides a variety of formatting functions. The most common for financial data is <code>dollar()</code>.</p>
<section id="example-formatting-axis-labels-as-currency" class="level4" data-number="18.13.2.1">
<h4 data-number="18.13.2.1" class="anchored" data-anchor-id="example-formatting-axis-labels-as-currency"><span class="header-section-number">18.13.2.1</span> Example: Formatting Axis Labels as Currency</h4>
<p>Let’s say you want to display Total_Cost as a financial value (for instance, costs in dollars). You can use <code>scale_y_continuous()</code> (or <code>scale_x_continuous()</code> for the x-axis) and apply the <code>dollar()</code> function to format the axis values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)  <span class="co"># Load the scales package for currency formatting</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> TC)) <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Cost"</span>) <span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span>  </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> dollar)  <span class="co"># Format y-axis as currency</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this example:</p>
<ul>
<li><code>scales::dollar()</code>: Automatically formats the x-axis labels as currency, adding dollar signs and commas where appropriate.</li>
</ul>
</section>
<section id="example-formatting-axis-with-custom-currency-or-units" class="level4" data-number="18.13.2.2">
<h4 data-number="18.13.2.2" class="anchored" data-anchor-id="example-formatting-axis-with-custom-currency-or-units"><span class="header-section-number">18.13.2.2</span> Example: Formatting Axis with Custom Currency or Units</h4>
<p>You can also customize the currency format (e.g., changing the currency symbol or specifying decimals).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> TC)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Cost"</span>) <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">dollar_format</span>(<span class="at">prefix =</span> <span class="st">"$"</span>, <span class="at">suffix =</span> <span class="st">"K"</span>, <span class="at">scale =</span> <span class="fl">0.001</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this example:</p>
<ul>
<li><code>dollar_format(prefix = "$", suffix = "K", scale = 0.001)</code>: Adds a dollar sign prefix, a “K” suffix to represent thousands, and scales the values down by a factor of 1,000. For example, 1,000,000 becomes “$1,000K.”</li>
</ul>
</section>
<section id="example-formatting-for-other-currencies" class="level4" data-number="18.13.2.3">
<h4 data-number="18.13.2.3" class="anchored" data-anchor-id="example-formatting-for-other-currencies"><span class="header-section-number">18.13.2.3</span> Example: Formatting for Other Currencies</h4>
<p>You can also format the labels for other currencies by changing the prefix. Here’s how you might display values in euros or pounds:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> TC)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Cost (in €)"</span>) <span class="sc">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">dollar_format</span>(<span class="at">prefix =</span> <span class="st">"€"</span>, <span class="at">suffix =</span> <span class="st">""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, the x-axis values will be displayed in euros (e.g., “€1,000”).</p>
</section>
</section>
<section id="recap-of-scales" class="level3" data-number="18.13.3">
<h3 data-number="18.13.3" class="anchored"><span class="header-section-number">18.13.3</span> Recap of Scales:</h3>
<ul>
<li><code>scale_x_continuous()</code> / <code>scale_y_continuous()</code>: Adjust axis ranges, breaks, and labels.</li>
<li><code>scale_color_manual()</code>: Manually assign specific colors to categories.</li>
<li><code>scale_color_gradient()</code>: Create color gradients for continuous data.</li>
<li><code>scales::dollar()</code>: Quickly formats axis labels as dollars.</li>
<li><code>dollar_format()</code>: Allows you to customize the currency symbol, add suffixes like “K” or “M”, and scale the values for better readability.</li>
<li><strong>Other Currencies</strong>: You can use <code>dollar_format()</code> for any currency by modifying the prefix argument (e.g., “€” or “£”).</li>
</ul>
<p>Using scales allows you to fine-tune how your data is presented visually, giving you more control over the plot’s aesthetics. For example, currency formatting is a handy tool when dealing with financial data, making your plots clearer and more professional in entrepreneurial contexts.</p>
<section id="try-it-yourself-4" class="level4" data-number="18.13.3.1">
<h4 data-number="18.13.3.1" class="anchored"><span class="header-section-number">18.13.3.1</span> <span style="color:#3370F4">Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<ol type="1">
<li><p>Plot the relationship between willingness to pay <code>WTP</code> and monthly consumption <code>Quantity.</code></p></li>
<li><p>Map the variable <code>Gym_member</code> to color to show how gym membership affects the relationship between willingness to pay <code>WTP</code> and consumption <code>Quantity.</code></p></li>
<li><p>Map the length of the respondent’s workout <code>Workout_length</code> to shape to show how workout length affects the relationship.</p></li>
<li><p>Add title and axes labels</p>
<ul>
<li>Make the title “Willingness to Pay and Consume Muscle Cola”</li>
<li>Make the x-axis “Willingness to Pay”</li>
<li>Make the y-axis “Quantity Consumed”</li>
</ul></li>
<li><p>Set the x-axis scale to be currency in dollars ($). Note that the <code>scales</code> library is already loaded so the scale functions are available to you.</p></li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell" data-setup="true" data-exercise="plot6">
<script type="exercise-setup-plot6-contents">
eyJjb2RlIjoibXVzY2xlX2NvbGFfZGF0YSA8LSByZWFkX2NzdihcImRhdGEvbXVzY2xlX2NvbGEuY3N2XCIpIiwiYXR0ciI6eyJldmFsIjp0cnVlLCJlZGl0Ijp0cnVlLCJleGVyY2lzZSI6InBsb3Q2Iiwic2V0dXAiOnRydWV9fQ==
</script>
</div>
<div class="cell" data-exercise="plot6">
<div>
<div id="webr-10" class="exercise-cell">

</div>
<script type="webr-10-contents">
eyJjb2RlIjoiZ2xpbXBzZShtdXNjbGVfY29sYV9kYXRhKVxuZ2dwbG90KCkiLCJhdHRyIjp7ImV2YWwiOnRydWUsImVkaXQiOnRydWUsImV4ZXJjaXNlIjoicGxvdDYifX0=
</script>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot6">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-1-4" class="level3" data-number="18.13.4">
<h3 data-number="18.13.4" class="anchored" data-anchor-id="hint-1-4"><span class="header-section-number">18.13.4</span> Hint 1</h3>
<p>Re-build your plot from layers beginning with specifying the dataset, then specifying aesthetic mapping of the x- and y-variables as well as the aesthetic mapping of gym membership to color. Inside a new aesthetic mapping in the point geometry, map the shape of the point to the length of the workout. Then declare the geometry to plot the data points. Then add the title and labels. Then format the x-axis to have currency in dollars.</p>
</section>
</div>
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot6">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-2-4" class="level3" data-number="18.13.5">
<h3 data-number="18.13.5" class="anchored" data-anchor-id="hint-2-4"><span class="header-section-number">18.13.5</span> Hint 2</h3>
<p>Inside the <code>ggplot</code> function, add the argument that the dataset is <code>muscle_cola_data</code> and the aesthetic mapping <code>aes()</code> the specifies that willingness to pay <code>WTP</code> is the x variable and <code>Quantity</code> is the y variable. Add an argument inside the aesthetic mapping that maps color to <code>Gym_member</code>. Then call the <code>geom_point()</code> function to plot the data as points (scatter plot). Add an aesthetic mapping of <code>shape</code> to <code>Workout_length</code> inside the <code>geom_point()</code>. Then call the <code>labs()</code> function using arguments <code>title = "Willingness to Pay and Consume Muscle Cola", x = "Willingness to Pay", y = "Quantity Consumed"</code>. Then call the <code>scale_x_continuous()</code> function and specify the argument that the labels are <code>dollar</code> currency.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Willingness to Pay and Consume Muscle Cola"</span>, </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Willingness to Pay"</span>, </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Quantity Consumed"</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>       )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--:::-->
</section>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="plot6">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="fully-worked-solution-4" class="level2" data-number="18.14">
<h2 data-number="18.14" class="anchored" data-anchor-id="fully-worked-solution-4"><span class="header-section-number">18.14</span> Fully worked solution:</h2>
<p>As arguments to the <code>ggplot()</code> function, declare the data as <code>muscle_cola_data</code> and the aesthetic mapping as <code>aes(x = WTP, y = Quantity, color = Gym_member)</code>. Then call the <code>geom_point()</code> function to plot the data as points. Then call the <code>labs()</code> function to add the title and axes labels. Then call the <code>scale_x_continuous()</code> function to specify the x-axis scale <code>labels</code> to be <code>dollar</code> currency.</p>
<div class="sourceCode" id="annotated-cell-36"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-36-1" class="code-annotation-target"><a href="#annotated-cell-36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(muscle_cola_data,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-36-2" class="code-annotation-target"><a href="#annotated-cell-36-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity, <span class="at">color =</span> Gym_member)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-36-3" class="code-annotation-target"><a href="#annotated-cell-36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> Workout_length)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-36-4" class="code-annotation-target"><a href="#annotated-cell-36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Willingness to Pay and Consume Muscle Cola"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-36-5" class="code-annotation-target"><a href="#annotated-cell-36-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Willingness to Pay"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-36-6" class="code-annotation-target"><a href="#annotated-cell-36-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Quantity Consumed"</span>) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-36-7" class="code-annotation-target"><a href="#annotated-cell-36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> dollar)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-36" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="1" data-code-annotation="1">Call the <code>ggplot()</code> function and specify <code>muscle_cola_data</code> as the data</span>
</dd>
<dt data-target-cell="annotated-cell-36" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="2" data-code-annotation="2">Specify that aesthetic mapping with <code>WTP</code> plotted on the x-axis and <code>Quantity</code> on the y-axis, adding the mapping of color to <code>Gym_member</code></span>
</dd>
<dt data-target-cell="annotated-cell-36" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="3" data-code-annotation="3">Call the <code>geom_point()</code> function to get a scatter plot of points and add the aesthetic that maps <code>shape</code> to the <code>Workout_length</code></span>
</dd>
<dt data-target-cell="annotated-cell-36" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="4" data-code-annotation="4">Call the <code>labs()</code> function and specify the <code>title</code></span>
</dd>
<dt data-target-cell="annotated-cell-36" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="5" data-code-annotation="5">Specify the x-axis label</span>
</dd>
<dt data-target-cell="annotated-cell-36" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="6" data-code-annotation="6">Specify the y-axis label</span>
</dd>
<dt data-target-cell="annotated-cell-36" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="7" data-code-annotation="7">Call the <code>scale_x_continuous()</code> function and specify the <code>labels</code> to be <code>dollar.</code></span>
</dd>
</dl>
</section>
</div>
</div>
</div>
</div>
<hr style="border:4px solid #3370F4">
<p><br></p>
</section>
</section>
</section>
<section id="facets" class="level2" data-number="18.15">
<h2 data-number="18.15" class="anchored" data-anchor-id="facets"><span class="header-section-number">18.15</span> 6. Facets</h2>
<p>Faceting allows you to split your data into multiple panels or subplots based on the values of one or more categorical variables. This is useful when you want to compare the same relationship across different subsets of the data, such as different categories or groups.</p>
<section id="example-using-facet_wrap" class="level3" data-number="18.15.1">
<h3 data-number="18.15.1" class="anchored" data-anchor-id="example-using-facet_wrap"><span class="header-section-number">18.15.1</span> Example: Using <code>facet_wrap()</code></h3>
<p>The function <code>facet_wrap()</code> is used to create facets (small multiples) for a single variable. In the following example, we create a separate plot for each Yard to compare the relationship between <code>Direct_Hours</code> and <code>Total_Production_Days</code> across shipyards.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Production Days"</span>) <span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Yard)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here:</p>
<ul>
<li><code>facet_wrap(~ Yard)</code>: Creates a separate panel for each shipyard, showing how the relationship between <code>Direct_Hours</code> and <code>Total_Production_Days</code> varies across shipyards.</li>
</ul>
</section>
<section id="example-using-facet_grid" class="level3" data-number="18.15.2">
<h3 data-number="18.15.2" class="anchored" data-anchor-id="example-using-facet_grid"><span class="header-section-number">18.15.2</span> Example: Using <code>facet_grid()</code></h3>
<p>If you want to facet your data on two variables (one on the x-axis and one on the y-axis), you can use <code>facet_grid()</code>. This function creates a grid of plots where rows and columns represent different variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data,</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Production Days"</span>) <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Way <span class="sc">~</span> Yard)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here:</p>
<ul>
<li><code>facet_grid(Way ~ Yard)</code>: Creates a grid of plots where each row corresponds to a different production platform (way) and each column corresponds to a production yard.</li>
</ul>
</section>
<section id="why-use-facets" class="level3" data-number="18.15.3">
<h3 data-number="18.15.3" class="anchored"><span class="header-section-number">18.15.3</span> Why Use Facets?</h3>
<ul>
<li><strong>Easy comparisons</strong>: Facets make it easy to compare the same relationship across different categories without overcrowding a single plot.</li>
<li><strong>Clarity</strong>: By splitting the data into smaller, separate plots, facets allow you to focus on specific subgroups of the data.</li>
</ul>
<p>Faceting is a powerful tool in ggplot2 for visualizing complex relationships in your data by dividing it into more digestible pieces. It can be particularly helpful when comparing categorical variables or exploring subsets of the data.</p>
<section id="try-it-yourself-5" class="level4" data-number="18.15.3.1">
<h4 data-number="18.15.3.1" class="anchored"><span class="header-section-number">18.15.3.1</span> <span style="color:#3370F4">Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<ol type="1">
<li><p>Plot the relationship between willingness to pay <code>WTP</code> and monthly consumption <code>Quantity.</code></p></li>
<li><p>Map the variable <code>Gym_member</code> to color to show how gym membership affects the relationship between willingness to pay <code>WTP</code> and consumption <code>Quantity.</code></p></li>
<li><p>Map the length of the respondent’s workout <code>Workout_length</code> to shape to show how workout length affects the relationship.</p></li>
<li><p>Add title and axes labels</p>
<ul>
<li>Make the title “Willingness to Pay and Consume Muscle Cola”</li>
<li>Make the x-axis “Willingness to Pay”</li>
<li>Make the y-axis “Quantity Consumed”</li>
</ul></li>
<li><p>Set the x-axis scale to be currency in dollars ($)</p></li>
<li><p>Create facets to separate the effects of the relationship for the preferred drink <code>Drink_preferred</code> of the respondents.</p></li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell" data-setup="true" data-exercise="plot7">
<script type="exercise-setup-plot7-contents">
eyJjb2RlIjoibXVzY2xlX2NvbGFfZGF0YSA8LSByZWFkX2NzdihcImRhdGEvbXVzY2xlX2NvbGEuY3N2XCIpIiwiYXR0ciI6eyJldmFsIjp0cnVlLCJlZGl0Ijp0cnVlLCJleGVyY2lzZSI6InBsb3Q3Iiwic2V0dXAiOnRydWV9fQ==
</script>
</div>
<div class="cell" data-exercise="plot7">
<div>
<div id="webr-12" class="exercise-cell">

</div>
<script type="webr-12-contents">
eyJjb2RlIjoiZ2xpbXBzZShtdXNjbGVfY29sYV9kYXRhKVxuZ2dwbG90KCkiLCJhdHRyIjp7ImV2YWwiOnRydWUsImVkaXQiOnRydWUsImV4ZXJjaXNlIjoicGxvdDcifX0=
</script>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot7">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-1-5" class="level3" data-number="18.15.4">
<h3 data-number="18.15.4" class="anchored" data-anchor-id="hint-1-5"><span class="header-section-number">18.15.4</span> Hint 1</h3>
<p>Re-build your plot from layers beginning with specifying the dataset, then specifying aesthetic mapping of the x- and y-variables as well as the aesthetic mapping of gym membership to color. Inside a new aesthetic mapping in the point geometry, map the shape of the point to the length of the workout. Then declare the geometry to plot the data points. Then add the title and labels. Then format the x-axis to have currency in dollars. Then wrap the plot facets by respondent drink preference.</p>
</section>
</div>
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot7">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-2-5" class="level3" data-number="18.15.5">
<h3 data-number="18.15.5" class="anchored" data-anchor-id="hint-2-5"><span class="header-section-number">18.15.5</span> Hint 2</h3>
<p>Inside the <code>ggplot</code> function, add the argument that the dataset is <code>muscle_cola_data</code> and the aesthetic mapping <code>aes()</code> the specifies that willingness to pay <code>WTP</code> is the x variable and <code>Quantity</code> is the y variable. Add an argument inside the aesthetic mapping that maps color to <code>Gym_member</code>. Then call the <code>geom_point()</code> function to plot the data as points (scatter plot). 4. Add an aesthetic mapping of <code>shape</code> to <code>Workout_length</code> inside the <code>geom_point()</code>. Then call the <code>labs()</code> function using arguments <code>title = "Willingness to Pay and Consume Muscle Cola", x = "Willingness to Pay", y = "Quantity Consumed"</code>. Then call the <code>scale_x_continuous()</code> function and specify the argument that the labels are <code>dollar</code> currency. Then call the <code>facet_wrap()</code> function and specify it to create facets for each <code>Drink_preferred</code></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">facet_wrap</span>(<span class="sc">~</span> Drink_preferred)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--:::-->
</section>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="plot7">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="fully-worked-solution-5" class="level2" data-number="18.16">
<h2 data-number="18.16" class="anchored" data-anchor-id="fully-worked-solution-5"><span class="header-section-number">18.16</span> Fully worked solution:</h2>
<p>As arguments to the <code>ggplot()</code> function, declare the data as <code>muscle_cola_data</code> and the aesthetic mapping as <code>aes(x = WTP, y = Quantity, color = Gym_member)</code>. Then call the <code>geom_point()</code> function to plot the data as points. Then call the <code>labs()</code> function to add the title and axes labels. Then call the <code>scale_x_continuous()</code> function to specify the x-axis scale <code>labels</code> to be <code>dollar</code> currency. Then call the <code>facet_wrap()</code> function to specify the facets to be created and wrapped on <code>Drink_preferrence</code>.</p>
<div class="sourceCode" id="annotated-cell-38"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-38-1" class="code-annotation-target"><a href="#annotated-cell-38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(muscle_cola_data,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-38-2" class="code-annotation-target"><a href="#annotated-cell-38-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity, <span class="at">color =</span> Gym_member)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-38-3" class="code-annotation-target"><a href="#annotated-cell-38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> Workout_length)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-38-4" class="code-annotation-target"><a href="#annotated-cell-38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Willingness to Pay and Consume Muscle Cola"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-38-5" class="code-annotation-target"><a href="#annotated-cell-38-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Willingness to Pay"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-38-6" class="code-annotation-target"><a href="#annotated-cell-38-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Quantity Consumed"</span>) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-38-7" class="code-annotation-target"><a href="#annotated-cell-38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-38-8" class="code-annotation-target"><a href="#annotated-cell-38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Drink_preferred)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-38" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="1" data-code-annotation="1">Call the <code>ggplot()</code> function and specify <code>muscle_cola_data</code> as the data</span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="2" data-code-annotation="2">Specify that aesthetic mapping with <code>WTP</code> plotted on the x-axis and <code>Quantity</code> on the y-axis, adding the mapping of color to <code>Gym_member</code></span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="3" data-code-annotation="3">Call the <code>geom_point()</code> function to get a scatter plot of points and add the aesthetic that maps <code>shape</code> to the <code>Workout_length</code></span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="4" data-code-annotation="4">Call the <code>labs()</code> function and specify the <code>title</code></span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="5" data-code-annotation="5">Specify the x-axis label</span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="6" data-code-annotation="6">Specify the y-axis label</span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="7" data-code-annotation="7">Call the <code>scale_x_continuous()</code> function and specify the <code>labels</code> to be <code>dollar</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-38" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="8" data-code-annotation="8">Call the <code>facet_wrap()</code> function and specify the facets to be created for <code>Drink_preferred</code>.</span>
</dd>
</dl>
</section>
</div>
</div>
</div>
</div>
<hr style="border:4px solid #3370F4">
<p><br></p>
</section>
</section>
</section>
<section id="themes" class="level2" data-number="18.17">
<h2 data-number="18.17" class="anchored" data-anchor-id="themes"><span class="header-section-number">18.17</span> 7. Themes</h2>
<p>Themes in <code>ggplot2</code> control the non-data-related visual aspects of the plot, such as background color, gridlines, text size, and font. While the default theme in <code>ggplot2</code> works well in many cases, customizing the theme can make your plot more suitable for reports, presentations, or other specific formats.</p>
<section id="default-theme-theme_gray" class="level3" data-number="18.17.1">
<h3 data-number="18.17.1" class="anchored" data-anchor-id="default-theme-theme_gray"><span class="header-section-number">18.17.1</span> Default Theme: <code>theme_gray()</code></h3>
<p>The default theme in <code>ggplot2</code> is <code>theme_gray()</code>, which uses a gray background and white gridlines. This is a good starting point, but you might want to change the theme to fit your needs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data, <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  <span class="co"># Color by shipyard</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production Time vs. Labor Hours"</span>,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Production Days"</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="customizing-the-theme" class="level3" data-number="18.17.2">
<h3 data-number="18.17.2" class="anchored" data-anchor-id="customizing-the-theme"><span class="header-section-number">18.17.2</span> Customizing the Theme</h3>
<p>You can use several built-in themes to quickly change the appearance of your plot. For example:</p>
<ul>
<li><code>theme_gray():</code> Gray background color and white grid lines. Put the data forward to make comparisons easy. This is the default theme in ggplot.</li>
<li><code>theme_bw()</code>: White background and gray grid lines. May work better for presentations displayed with a projector.</li>
<li><code>theme_light()</code>: A theme with light grey lines and axes, to direct more attention towards the data.</li>
<li><code>theme_dark()</code>: Same as <code>theme_light</code> but with a dark background. Useful to make thin coloured lines pop out.</li>
<li><code>theme_minimal()</code>: A clean, simple theme that removes unnecessary gridlines and backgrounds.</li>
<li><code>theme_classic()</code>: A traditional theme with only axis lines and no gridlines.</li>
<li><code>theme_void()</code>: A completely empty theme, useful for non-standard plots or creative visualizations.</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="example-customizing-specific-theme-elements" class="level3" data-number="18.17.3">
<h3 data-number="18.17.3" class="anchored" data-anchor-id="example-customizing-specific-theme-elements"><span class="header-section-number">18.17.3</span> Example: Customizing Specific Theme Elements</h3>
<p>In addition to using predefined themes, you can customize individual elements of the theme, such as the background, text size, or axis lines.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data, <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production: Custom Theme"</span>) <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span>  </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray"</span>, <span class="at">size =</span> <span class="fl">0.5</span>),</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>),</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"top"</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this example, we use <code>theme_minimal()</code> as a base and customize:</p>
<ul>
<li><code>plot.title</code>: Adjusting the font size and boldness of the title.</li>
<li><code>axis.title</code>: Changing the font size of axis labels.</li>
<li><code>panel.grid.major</code>: Customizing the major gridlines.</li>
<li><code>panel.background</code>: Setting the background color.</li>
<li><code>legend.position</code>: Moving the legend to the top of the plot.</li>
</ul>
</section>
<section id="example-using-external-themes-ggthemes" class="level3" data-number="18.17.4">
<h3 data-number="18.17.4" class="anchored" data-anchor-id="example-using-external-themes-ggthemes"><span class="header-section-number">18.17.4</span> Example: Using External Themes (<code>ggthemes</code>)</h3>
<p>In addition to built-in themes, you can use external packages like <code>ggthemes</code> to apply specialized themes, such as themes that mimic professional charts (e.g., from The Economist, Wall Street Journal).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggthemes") # Install and load ggthemes (if needed)</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(liberty_ship_data, <span class="fu">aes</span>(<span class="at">x =</span> Direct_Hours, <span class="at">y =</span> Total_Production_Days)) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Yard)) <span class="sc">+</span>  </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Liberty Ship Production: Economist Theme"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Direct Labor Hours"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Production Days"</span>) <span class="sc">+</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()  <span class="co"># Apply a theme from ggthemes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can use several other themes from the <code>ggthemes</code> package to adopt their appearance. For example:</p>
<ul>
<li><code>theme_excel()</code>: theme mimicking default plot theme in Excel bridging the gap between <code>ggplot2</code> and Excel</li>
<li><code>theme_tufte()</code>: a minimalist theme adhering to the principles espoused by Edward Tufte who is mentioned above</li>
<li><code>theme_economist()</code>: theme based on the plots in the Economist magazine</li>
<li><code>theme_wsj()</code>: theme based on plots in the Wall Street Journal with clean, professional visuals that mirror financial or business reporting</li>
<li><code>theme_fivethirtyeight()</code>: modern chart theme often seen in political or sports analytics found in the popular data-driven news site FiveThirtyEight</li>
<li><code>theme_hc()</code>: theme based on Highcharts JS</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="visualize_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="why-use-themes" class="level3" data-number="18.17.5">
<h3 data-number="18.17.5" class="anchored" data-anchor-id="why-use-themes"><span class="header-section-number">18.17.5</span> Why Use Themes?</h3>
<ul>
<li><strong>Consistency</strong>: Applying a consistent theme across multiple plots can give your visualizations a professional look.</li>
<li><strong>Readability</strong>: Themes help you control elements that make your plots easier to read, especially when presenting in different formats (e.g., reports, presentations).</li>
<li><strong>Customization</strong>: You can tailor your plot’s appearance to your audience or purpose by fine-tuning individual elements.</li>
</ul>
</section>
<section id="recap-of-themes" class="level3" data-number="18.17.6">
<h3 data-number="18.17.6" class="anchored"><span class="header-section-number">18.17.6</span> Recap of Themes:</h3>
<ul>
<li><strong>Built-in themes</strong>: ggplot2 offers several built-in themes like <code>theme_gray()</code>, <code>theme_minimal()</code>, <code>theme_classic()</code>, and more.</li>
<li><strong>External themes</strong>: Packages like <code>ggthemes</code> provide additional styles to make your plots look more professional or specialized.</li>
<li><strong>Custom themes</strong>: You can customize individual elements of a theme, such as text size, gridlines, and backgrounds, to match your specific needs.</li>
</ul>
<section id="try-it-yourself-6" class="level4" data-number="18.17.6.1">
<h4 data-number="18.17.6.1" class="anchored"><span class="header-section-number">18.17.6.1</span> <span style="color:#3370F4">Try it yourself:</span></h4>
<hr style="border:2px solid #3370F4">
<ol type="1">
<li><p>Plot the relationship between willingness to pay <code>WTP</code> and monthly consumption <code>Quantity.</code></p></li>
<li><p>Map the variable <code>Gym_member</code> to color to show how gym membership affects the relationship between willingness to pay <code>WTP</code> and consumption <code>Quantity.</code></p></li>
<li><p>Map the length of the respondent’s workout <code>Workout_length</code> to shape to show how workout length affects the relationship.</p></li>
<li><p>Add title and axes labels</p>
<ul>
<li>Make the title “Willingness to Pay and Consume Muscle Cola”</li>
<li>Make the x-axis “Willingness to Pay”</li>
<li>Make the y-axis “Quantity Consumed”</li>
</ul></li>
<li><p>Set the x-axis scale to be currency in dollars ($)</p></li>
<li><p><em>Drop the facet wrap to reduce complexity.</em></p></li>
<li><p>Create the plot in at least two themes other than the default <code>theme_gray()</code>. Note that <code>ggthemes</code> is already loaded so you can choose from any themes in that library as well.</p></li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Exercise</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Hints</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false">Solution</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell" data-setup="true" data-exercise="plot8">
<script type="exercise-setup-plot8-contents">
eyJjb2RlIjoibXVzY2xlX2NvbGFfZGF0YSA8LSByZWFkX2NzdihcImRhdGEvbXVzY2xlX2NvbGEuY3N2XCIpIiwiYXR0ciI6eyJldmFsIjp0cnVlLCJlZGl0Ijp0cnVlLCJleGVyY2lzZSI6InBsb3Q4Iiwic2V0dXAiOnRydWV9fQ==
</script>
</div>
<div class="cell" data-exercise="plot8">
<div>
<div id="webr-14" class="exercise-cell">

</div>
<script type="webr-14-contents">
eyJjb2RlIjoiZ2xpbXBzZShtdXNjbGVfY29sYV9kYXRhKVxuZ2dwbG90KCkiLCJhdHRyIjp7ImV2YWwiOnRydWUsImVkaXQiOnRydWUsImV4ZXJjaXNlIjoicGxvdDgifX0=
</script>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot8">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-1-6" class="level3" data-number="18.17.7">
<h3 data-number="18.17.7" class="anchored" data-anchor-id="hint-1-6"><span class="header-section-number">18.17.7</span> Hint 1</h3>
<p>Re-build your plot from layers beginning with specifying the dataset, then specifying aesthetic mapping of the x- and y-variables as well as the aesthetic mapping of gym membership to color. Inside a new aesthetic mapping in the point geometry, map the shape of the point to the length of the workout. Then declare the geometry to plot the data points. Then add the title and labels. Then format the x-axis to have currency in dollars. Add a theme and evaluate your preferences for the appearance.</p>
</section>
</div>
<div class="hint webr-ojs-exercise exercise-hint d-none" data-exercise="plot8">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="hint-2-6" class="level3" data-number="18.17.8">
<h3 data-number="18.17.8" class="anchored" data-anchor-id="hint-2-6"><span class="header-section-number">18.17.8</span> Hint 2</h3>
<p>Inside the <code>ggplot</code> function, add the argument that the dataset is <code>muscle_cola_data</code> and the aesthetic mapping <code>aes()</code> the specifies that willingness to pay <code>WTP</code> is the x variable and <code>Quantity</code> is the y variable. Add an argument inside the aesthetic mapping that maps color to <code>Gym_member</code>. Then call the <code>geom_point()</code> function to plot the data as points (scatter plot). 4. Add an aesthetic mapping of <code>shape</code> to <code>Workout_length</code> inside the <code>geom_point()</code>. Then call the <code>labs()</code> function using arguments <code>title = "Willingness to Pay and Consume Muscle Cola", x = "Willingness to Pay", y = "Quantity Consumed"</code>. Then call the <code>scale_x_continuous()</code> function and specify the argument that the labels are <code>dollar</code> currency. Call a <code>theme_name()</code> function to evaluate the appearance.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">theme_name</span>() <span class="co"># replace "name" with the name of your chosen theme</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--:::-->
</section>
</div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="webr-ojs-exercise exercise-solution d-none" data-exercise="plot8">
<!-- ::: {.callout-tip collapse="false"}-->
<section id="fully-worked-solution-6" class="level2" data-number="18.18">
<h2 data-number="18.18" class="anchored" data-anchor-id="fully-worked-solution-6"><span class="header-section-number">18.18</span> Fully worked solution:</h2>
<p>As arguments to the <code>ggplot()</code> function, declare the data as <code>muscle_cola_data</code> and the aesthetic mapping as <code>aes(x = WTP, y = Quantity, color = Gym_member)</code>. Then call the <code>geom_point()</code> function to plot the data as points. Then call the <code>labs()</code> function to add the title and axes labels. Then call the <code>scale_x_continuous()</code> function to specify the x-axis scale <code>labels</code> to be <code>dollar</code> currency. Then call a theme function. In this solution, we call <code>theme_fivethirtyeight</code>.</p>
<div class="sourceCode" id="annotated-cell-40"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-40-1" class="code-annotation-target"><a href="#annotated-cell-40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(muscle_cola_data,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-40-2" class="code-annotation-target"><a href="#annotated-cell-40-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> WTP, <span class="at">y =</span> Quantity, <span class="at">color =</span> Gym_member)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-40-3" class="code-annotation-target"><a href="#annotated-cell-40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> Workout_length)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-40-4" class="code-annotation-target"><a href="#annotated-cell-40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Willingness to Pay and Consume Muscle Cola"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-40-5" class="code-annotation-target"><a href="#annotated-cell-40-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Willingness to Pay"</span>,</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-40-6" class="code-annotation-target"><a href="#annotated-cell-40-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Quantity Consumed"</span>) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-40-7" class="code-annotation-target"><a href="#annotated-cell-40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> dollar) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-40-8" class="code-annotation-target"><a href="#annotated-cell-40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_fivethirtyeight</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-40" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="1" data-code-annotation="1">Call the <code>ggplot()</code> function and specify <code>muscle_cola_data</code> as the data</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="2" data-code-annotation="2">Specify that aesthetic mapping with <code>WTP</code> plotted on the x-axis and <code>Quantity</code> on the y-axis, adding the mapping of color to <code>Gym_member</code></span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="3" data-code-annotation="3">Call the <code>geom_point()</code> function to get a scatter plot of points and add the aesthetic that maps <code>shape</code> to the <code>Workout_length</code></span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="4" data-code-annotation="4">Call the <code>labs()</code> function and specify the <code>title</code></span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="5" data-code-annotation="5">Specify the x-axis label</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="6">6</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="6" data-code-annotation="6">Specify the y-axis label</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="7">7</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="7" data-code-annotation="7">Call the <code>scale_x_continuous()</code> function and specify the <code>labels</code> to be <code>dollar</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-40" data-target-annotation="8">8</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="8" data-code-annotation="8">Call the <code>facet_wrap()</code> function and specify the facets to be created for <code>Drink_preferred</code>.</span>
</dd>
</dl>
</section>
</div>
</div>
</div>
</div>
<hr style="border:4px solid #3370F4">
<p><br><br></p>
</section>
</section>
</section>
</section>
<section id="conclusion" class="level1" data-number="19">
<h1 data-number="19"><span class="header-section-number">19</span> Conclusion</h1>
<p>In this chapter, we explored the foundational principles of the Grammar of Graphics that underpin <code>ggplot2.</code> By breaking down the construction of a plot into distinct components—data, aesthetics, geometric objects, labels, scales, facets, and themes—you’ve learned how to build visualizations step by step. This approach allows you to customize your plots fully, making them both informative and visually appealing.</p>
<p>Whether you’re transforming data, adjusting scales, or applying professional themes, <code>ggplot2</code> gives you the flexibility to create compelling data visualizations tailored to your audience. As you move forward, continue experimenting with different combinations of geoms, aesthetics, and themes to refine your plots for specific needs. The ability to clearly and effectively communicate your data insights through visualization is a critical skill in entrepreneurship and beyond.</p>


<script type="webr-data">
eyJwYWNrYWdlcyI6eyJwa2dzIjpbImV2YWx1YXRlIiwia25pdHIiLCJodG1sdG9vbHMiLCJkcGx5ciIsInRpYmJsZSIsInJlYWRyIiwicmVhZHhsIiwiaGVyZSIsImdncGxvdDIiLCJzY2FsZXMiLCJnZ3RoZW1lcyJdLCJyZXBvcyI6W119LCJyZW5kZXJfZGYiOiJkZWZhdWx0Iiwib3B0aW9ucyI6eyJiYXNlVXJsIjoiaHR0cHM6Ly93ZWJyLnItd2FzbS5vcmcvdjAuNC4xLyJ9fQ==
</script>
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV8xNDtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiIsImNlbGxOYW1lIjoid2Vici13aWRnZXQtMTQiLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJpbmxpbmUiOmZhbHNlfSx7InNvdXJjZSI6InZpZXdvZiBfd2Vicl9lZGl0b3JfMTQgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0xNC1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXhlcmNpc2UgY29uZmlndXJhdGlvblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICBpZDogXCJ3ZWJyLTE0LWNvbnRlbnRzXCIsXG4gICAgICBlbnZpcjogYGV4ZXJjaXNlLWVudi0ke2Jsb2NrLmF0dHIuZXhlcmNpc2V9YCxcbiAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgIGNhcHRpb246ICdFeGVyY2lzZScsXG4gICAgfSxcbiAgICBibG9jay5hdHRyXG4gICk7XG5cbiAgY29uc3QgZWRpdG9yID0gbmV3IFdlYlJFeGVyY2lzZUVkaXRvcih3ZWJST2pzLndlYlJQcm9taXNlLCBibG9jay5jb2RlLCBvcHRpb25zKTtcbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG52aWV3b2YgX3dlYnJfdmFsdWVfMTQgPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzE0LCB7fSk7XG5fd2Vicl9mZWVkYmFja18xNCA9IHtcbiAgY29uc3QgeyBXZWJSR3JhZGVyIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBlbXB0eUZlZWRiYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgY29uc3QgZ3JhZGVyID0gbmV3IFdlYlJHcmFkZXIoX3dlYnJfdmFsdWVfMTQuZXZhbHVhdG9yKTtcbiAgY29uc3QgZmVlZGJhY2sgPSBhd2FpdCBncmFkZXIuZ3JhZGVFeGVyY2lzZSgpO1xuICBpZiAoIWZlZWRiYWNrKSByZXR1cm4gZW1wdHlGZWVkYmFjaztcbiAgcmV0dXJuIGZlZWRiYWNrO1xufVxuIiwiY2VsbE5hbWUiOiJ3ZWJyLTE0IiwibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6ZmFsc2V9LHsic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV8xMjtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiIsImNlbGxOYW1lIjoid2Vici13aWRnZXQtMTIiLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJpbmxpbmUiOmZhbHNlfSx7InNvdXJjZSI6InZpZXdvZiBfd2Vicl9lZGl0b3JfMTIgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0xMi1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXhlcmNpc2UgY29uZmlndXJhdGlvblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICBpZDogXCJ3ZWJyLTEyLWNvbnRlbnRzXCIsXG4gICAgICBlbnZpcjogYGV4ZXJjaXNlLWVudi0ke2Jsb2NrLmF0dHIuZXhlcmNpc2V9YCxcbiAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgIGNhcHRpb246ICdFeGVyY2lzZScsXG4gICAgfSxcbiAgICBibG9jay5hdHRyXG4gICk7XG5cbiAgY29uc3QgZWRpdG9yID0gbmV3IFdlYlJFeGVyY2lzZUVkaXRvcih3ZWJST2pzLndlYlJQcm9taXNlLCBibG9jay5jb2RlLCBvcHRpb25zKTtcbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG52aWV3b2YgX3dlYnJfdmFsdWVfMTIgPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzEyLCB7fSk7XG5fd2Vicl9mZWVkYmFja18xMiA9IHtcbiAgY29uc3QgeyBXZWJSR3JhZGVyIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBlbXB0eUZlZWRiYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgY29uc3QgZ3JhZGVyID0gbmV3IFdlYlJHcmFkZXIoX3dlYnJfdmFsdWVfMTIuZXZhbHVhdG9yKTtcbiAgY29uc3QgZmVlZGJhY2sgPSBhd2FpdCBncmFkZXIuZ3JhZGVFeGVyY2lzZSgpO1xuICBpZiAoIWZlZWRiYWNrKSByZXR1cm4gZW1wdHlGZWVkYmFjaztcbiAgcmV0dXJuIGZlZWRiYWNrO1xufVxuIiwiY2VsbE5hbWUiOiJ3ZWJyLTEyIiwibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6ZmFsc2V9LHsic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV8xMDtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiIsImNlbGxOYW1lIjoid2Vici13aWRnZXQtMTAiLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJpbmxpbmUiOmZhbHNlfSx7InNvdXJjZSI6InZpZXdvZiBfd2Vicl9lZGl0b3JfMTAgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0xMC1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXhlcmNpc2UgY29uZmlndXJhdGlvblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICBpZDogXCJ3ZWJyLTEwLWNvbnRlbnRzXCIsXG4gICAgICBlbnZpcjogYGV4ZXJjaXNlLWVudi0ke2Jsb2NrLmF0dHIuZXhlcmNpc2V9YCxcbiAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgIGNhcHRpb246ICdFeGVyY2lzZScsXG4gICAgfSxcbiAgICBibG9jay5hdHRyXG4gICk7XG5cbiAgY29uc3QgZWRpdG9yID0gbmV3IFdlYlJFeGVyY2lzZUVkaXRvcih3ZWJST2pzLndlYlJQcm9taXNlLCBibG9jay5jb2RlLCBvcHRpb25zKTtcbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG52aWV3b2YgX3dlYnJfdmFsdWVfMTAgPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzEwLCB7fSk7XG5fd2Vicl9mZWVkYmFja18xMCA9IHtcbiAgY29uc3QgeyBXZWJSR3JhZGVyIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBlbXB0eUZlZWRiYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgY29uc3QgZ3JhZGVyID0gbmV3IFdlYlJHcmFkZXIoX3dlYnJfdmFsdWVfMTAuZXZhbHVhdG9yKTtcbiAgY29uc3QgZmVlZGJhY2sgPSBhd2FpdCBncmFkZXIuZ3JhZGVFeGVyY2lzZSgpO1xuICBpZiAoIWZlZWRiYWNrKSByZXR1cm4gZW1wdHlGZWVkYmFjaztcbiAgcmV0dXJuIGZlZWRiYWNrO1xufVxuIiwiY2VsbE5hbWUiOiJ3ZWJyLTEwIiwibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6ZmFsc2V9LHsic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV84O1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIiwiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC04IiwibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0IiwiaW5saW5lIjpmYWxzZX0seyJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzggPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici04LWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBleGVyY2lzZSBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIGlkOiBcIndlYnItOC1jb250ZW50c1wiLFxuICAgICAgZW52aXI6IGBleGVyY2lzZS1lbnYtJHtibG9jay5hdHRyLmV4ZXJjaXNlfWAsXG4gICAgICBlcnJvcjogZmFsc2UsXG4gICAgICBjYXB0aW9uOiAnRXhlcmNpc2UnLFxuICAgIH0sXG4gICAgYmxvY2suYXR0clxuICApO1xuXG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG4gIHJldHVybiBlZGl0b3IuY29udGFpbmVyO1xufVxudmlld29mIF93ZWJyX3ZhbHVlXzggPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzgsIHt9KTtcbl93ZWJyX2ZlZWRiYWNrXzggPSB7XG4gIGNvbnN0IHsgV2ViUkdyYWRlciB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3QgZW1wdHlGZWVkYmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIGNvbnN0IGdyYWRlciA9IG5ldyBXZWJSR3JhZGVyKF93ZWJyX3ZhbHVlXzguZXZhbHVhdG9yKTtcbiAgY29uc3QgZmVlZGJhY2sgPSBhd2FpdCBncmFkZXIuZ3JhZGVFeGVyY2lzZSgpO1xuICBpZiAoIWZlZWRiYWNrKSByZXR1cm4gZW1wdHlGZWVkYmFjaztcbiAgcmV0dXJuIGZlZWRiYWNrO1xufVxuIiwiY2VsbE5hbWUiOiJ3ZWJyLTgiLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjpmYWxzZX0seyJzb3VyY2UiOiJ7XG4gIC8vIFdhaXQgZm9yIG91dHB1dCB0byBiZSB3cml0dGVuIHRvIHRoZSBET00sIHRoZW4gdHJpZ2dlciB3aWRnZXQgcmVuZGVyaW5nXG4gIGF3YWl0IF93ZWJyX3ZhbHVlXzY7XG4gIGlmICh3aW5kb3cuSFRNTFdpZGdldHMpIHtcbiAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7XG4gIH1cbiAgaWYgKHdpbmRvdy5QYWdlZFRhYmxlRG9jKSB7XG4gICAgd2luZG93LlBhZ2VkVGFibGVEb2MuaW5pdEFsbCgpO1xuICB9XG59XG4iLCJjZWxsTmFtZSI6IndlYnItd2lkZ2V0LTYiLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJpbmxpbmUiOmZhbHNlfSx7InNvdXJjZSI6InZpZXdvZiBfd2Vicl9lZGl0b3JfNiA9IHtcbiAgY29uc3QgeyBXZWJSRXhlcmNpc2VFZGl0b3IsIGI2NERlY29kZSB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3Qgc2NyaXB0Q29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ3ZWJyLTYtY29udGVudHNcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBibG9jayA9IEpTT04ucGFyc2UoYjY0RGVjb2RlKHNjcmlwdENvbnRlbnQpKTtcblxuICAvLyBEZWZhdWx0IGV4ZXJjaXNlIGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAge1xuICAgICAgaWQ6IFwid2Vici02LWNvbnRlbnRzXCIsXG4gICAgICBlbnZpcjogYGV4ZXJjaXNlLWVudi0ke2Jsb2NrLmF0dHIuZXhlcmNpc2V9YCxcbiAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgIGNhcHRpb246ICdFeGVyY2lzZScsXG4gICAgfSxcbiAgICBibG9jay5hdHRyXG4gICk7XG5cbiAgY29uc3QgZWRpdG9yID0gbmV3IFdlYlJFeGVyY2lzZUVkaXRvcih3ZWJST2pzLndlYlJQcm9taXNlLCBibG9jay5jb2RlLCBvcHRpb25zKTtcbiAgcmV0dXJuIGVkaXRvci5jb250YWluZXI7XG59XG52aWV3b2YgX3dlYnJfdmFsdWVfNiA9IHdlYlJPanMucHJvY2Vzcyhfd2Vicl9lZGl0b3JfNiwge30pO1xuX3dlYnJfZmVlZGJhY2tfNiA9IHtcbiAgY29uc3QgeyBXZWJSR3JhZGVyIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBlbXB0eUZlZWRiYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgY29uc3QgZ3JhZGVyID0gbmV3IFdlYlJHcmFkZXIoX3dlYnJfdmFsdWVfNi5ldmFsdWF0b3IpO1xuICBjb25zdCBmZWVkYmFjayA9IGF3YWl0IGdyYWRlci5ncmFkZUV4ZXJjaXNlKCk7XG4gIGlmICghZmVlZGJhY2spIHJldHVybiBlbXB0eUZlZWRiYWNrO1xuICByZXR1cm4gZmVlZGJhY2s7XG59XG4iLCJjZWxsTmFtZSI6IndlYnItNiIsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOmZhbHNlfSx7InNvdXJjZSI6IntcbiAgLy8gV2FpdCBmb3Igb3V0cHV0IHRvIGJlIHdyaXR0ZW4gdG8gdGhlIERPTSwgdGhlbiB0cmlnZ2VyIHdpZGdldCByZW5kZXJpbmdcbiAgYXdhaXQgX3dlYnJfdmFsdWVfNDtcbiAgaWYgKHdpbmRvdy5IVE1MV2lkZ2V0cykge1xuICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTtcbiAgfVxuICBpZiAod2luZG93LlBhZ2VkVGFibGVEb2MpIHtcbiAgICB3aW5kb3cuUGFnZWRUYWJsZURvYy5pbml0QWxsKCk7XG4gIH1cbn1cbiIsImNlbGxOYW1lIjoid2Vici13aWRnZXQtNCIsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsImlubGluZSI6ZmFsc2V9LHsic291cmNlIjoidmlld29mIF93ZWJyX2VkaXRvcl80ID0ge1xuICBjb25zdCB7IFdlYlJFeGVyY2lzZUVkaXRvciwgYjY0RGVjb2RlIH0gPSB3aW5kb3cuX2V4ZXJjaXNlX29qc19ydW50aW1lO1xuICBjb25zdCBzY3JpcHRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcIndlYnItNC1jb250ZW50c1xcXCJdYCkudGV4dENvbnRlbnQ7XG4gIGNvbnN0IGJsb2NrID0gSlNPTi5wYXJzZShiNjREZWNvZGUoc2NyaXB0Q29udGVudCkpO1xuXG4gIC8vIERlZmF1bHQgZXhlcmNpc2UgY29uZmlndXJhdGlvblxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICB7XG4gICAgICBpZDogXCJ3ZWJyLTQtY29udGVudHNcIixcbiAgICAgIGVudmlyOiBgZXhlcmNpc2UtZW52LSR7YmxvY2suYXR0ci5leGVyY2lzZX1gLFxuICAgICAgZXJyb3I6IGZhbHNlLFxuICAgICAgY2FwdGlvbjogJ0V4ZXJjaXNlJyxcbiAgICB9LFxuICAgIGJsb2NrLmF0dHJcbiAgKTtcblxuICBjb25zdCBlZGl0b3IgPSBuZXcgV2ViUkV4ZXJjaXNlRWRpdG9yKHdlYlJPanMud2ViUlByb21pc2UsIGJsb2NrLmNvZGUsIG9wdGlvbnMpO1xuICByZXR1cm4gZWRpdG9yLmNvbnRhaW5lcjtcbn1cbnZpZXdvZiBfd2Vicl92YWx1ZV80ID0gd2ViUk9qcy5wcm9jZXNzKF93ZWJyX2VkaXRvcl80LCB7fSk7XG5fd2Vicl9mZWVkYmFja180ID0ge1xuICBjb25zdCB7IFdlYlJHcmFkZXIgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IGVtcHR5RmVlZGJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICBjb25zdCBncmFkZXIgPSBuZXcgV2ViUkdyYWRlcihfd2Vicl92YWx1ZV80LmV2YWx1YXRvcik7XG4gIGNvbnN0IGZlZWRiYWNrID0gYXdhaXQgZ3JhZGVyLmdyYWRlRXhlcmNpc2UoKTtcbiAgaWYgKCFmZWVkYmFjaykgcmV0dXJuIGVtcHR5RmVlZGJhY2s7XG4gIHJldHVybiBmZWVkYmFjaztcbn1cbiIsImNlbGxOYW1lIjoid2Vici00IiwibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6ZmFsc2V9LHsic291cmNlIjoie1xuICAvLyBXYWl0IGZvciBvdXRwdXQgdG8gYmUgd3JpdHRlbiB0byB0aGUgRE9NLCB0aGVuIHRyaWdnZXIgd2lkZ2V0IHJlbmRlcmluZ1xuICBhd2FpdCBfd2Vicl92YWx1ZV8yO1xuICBpZiAod2luZG93LkhUTUxXaWRnZXRzKSB7XG4gICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpO1xuICB9XG4gIGlmICh3aW5kb3cuUGFnZWRUYWJsZURvYykge1xuICAgIHdpbmRvdy5QYWdlZFRhYmxlRG9jLmluaXRBbGwoKTtcbiAgfVxufVxuIiwiY2VsbE5hbWUiOiJ3ZWJyLXdpZGdldC0yIiwibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0IiwiaW5saW5lIjpmYWxzZX0seyJzb3VyY2UiOiJ2aWV3b2YgX3dlYnJfZWRpdG9yXzIgPSB7XG4gIGNvbnN0IHsgV2ViUkV4ZXJjaXNlRWRpdG9yLCBiNjREZWNvZGUgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWU7XG4gIGNvbnN0IHNjcmlwdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbdHlwZT1cXFwid2Vici0yLWNvbnRlbnRzXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgYmxvY2sgPSBKU09OLnBhcnNlKGI2NERlY29kZShzY3JpcHRDb250ZW50KSk7XG5cbiAgLy8gRGVmYXVsdCBleGVyY2lzZSBjb25maWd1cmF0aW9uXG4gIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIGlkOiBcIndlYnItMi1jb250ZW50c1wiLFxuICAgICAgZW52aXI6IGBleGVyY2lzZS1lbnYtJHtibG9jay5hdHRyLmV4ZXJjaXNlfWAsXG4gICAgICBlcnJvcjogZmFsc2UsXG4gICAgICBjYXB0aW9uOiAnRXhlcmNpc2UnLFxuICAgIH0sXG4gICAgYmxvY2suYXR0clxuICApO1xuXG4gIGNvbnN0IGVkaXRvciA9IG5ldyBXZWJSRXhlcmNpc2VFZGl0b3Iod2ViUk9qcy53ZWJSUHJvbWlzZSwgYmxvY2suY29kZSwgb3B0aW9ucyk7XG4gIHJldHVybiBlZGl0b3IuY29udGFpbmVyO1xufVxudmlld29mIF93ZWJyX3ZhbHVlXzIgPSB3ZWJST2pzLnByb2Nlc3MoX3dlYnJfZWRpdG9yXzIsIHt9KTtcbl93ZWJyX2ZlZWRiYWNrXzIgPSB7XG4gIGNvbnN0IHsgV2ViUkdyYWRlciB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcbiAgY29uc3QgZW1wdHlGZWVkYmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gIGNvbnN0IGdyYWRlciA9IG5ldyBXZWJSR3JhZGVyKF93ZWJyX3ZhbHVlXzIuZXZhbHVhdG9yKTtcbiAgY29uc3QgZmVlZGJhY2sgPSBhd2FpdCBncmFkZXIuZ3JhZGVFeGVyY2lzZSgpO1xuICBpZiAoIWZlZWRiYWNrKSByZXR1cm4gZW1wdHlGZWVkYmFjaztcbiAgcmV0dXJuIGZlZWRiYWNrO1xufVxuIiwiY2VsbE5hbWUiOiJ3ZWJyLTIiLCJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjpmYWxzZX0seyJzb3VyY2UiOiJ3ZWJST2pzID0ge1xuICBjb25zdCB7IFdlYlIgfSA9IHdpbmRvdy5fZXhlcmNpc2Vfb2pzX3J1bnRpbWUuV2ViUjtcbiAgY29uc3Qge1xuICAgIFdlYlJFdmFsdWF0b3IsXG4gICAgV2ViUkVudmlyb25tZW50TWFuYWdlcixcbiAgICBzZXR1cFIsXG4gICAgYjY0RGVjb2RlLFxuICAgIGNvbGxhcHNlUGF0aFxuICB9ID0gd2luZG93Ll9leGVyY2lzZV9vanNfcnVudGltZTtcblxuICBjb25zdCBzdGF0dXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4ZXJjaXNlLWxvYWRpbmctc3RhdHVzXCIpO1xuICBjb25zdCBpbmRpY2F0b3JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4ZXJjaXNlLWxvYWRpbmctaW5kaWNhdG9yXCIpO1xuICBpbmRpY2F0b3JDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImQtbm9uZVwiKTtcblxuICBsZXQgc3RhdHVzVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgc3RhdHVzVGV4dC5jbGFzc0xpc3QgPSBcImV4ZXJjaXNlLWxvYWRpbmctZGV0YWlsc1wiO1xuICBzdGF0dXNUZXh0ID0gc3RhdHVzQ29udGFpbmVyLmFwcGVuZENoaWxkKHN0YXR1c1RleHQpO1xuICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYEluaXRpYWxpc2VgO1xuXG4gIC8vIEhvaXN0IGluZGljYXRvciBvdXQgZnJvbSBmaW5hbCBzbGlkZSB3aGVuIHJ1bm5pbmcgdW5kZXIgcmV2ZWFsXG4gIGNvbnN0IHJldmVhbFN0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2ZWFsIC5leGVyY2lzZS1sb2FkaW5nLWluZGljYXRvclwiKTtcbiAgaWYgKHJldmVhbFN0YXR1cykge1xuICAgIHJldmVhbFN0YXR1cy5yZW1vdmUoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJldmVhbCA+IC5zbGlkZXNcIikuYXBwZW5kQ2hpbGQocmV2ZWFsU3RhdHVzKTtcbiAgfVxuXG4gIC8vIE1ha2UgYW55IHJldmVhbCBzbGlkZXMgd2l0aCBsaXZlIGNlbGxzIHNjcm9sbGFibGVcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZlYWwgLmV4ZXJjaXNlLWNlbGxcIikuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBlbC5jbG9zZXN0KCdzZWN0aW9uLnNsaWRlJykuY2xhc3NMaXN0LmFkZChcInNjcm9sbGFibGVcIik7XG4gIH0pXG5cbiAgLy8gd2ViUiBzdXBwbGVtZW50YWwgZGF0YSBhbmQgb3B0aW9uc1xuICBjb25zdCBkYXRhQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYHNjcmlwdFt0eXBlPVxcXCJ3ZWJyLWRhdGFcXFwiXWApLnRleHRDb250ZW50O1xuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShiNjREZWNvZGUoZGF0YUNvbnRlbnQpKTtcblxuICAvLyBHcmFiIGxpc3Qgb2YgcmVzb3VyY2VzIHRvIGJlIGRvd25sb2FkZWRcbiAgY29uc3QgZmlsZXNDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3R5cGU9XFxcInZmcy1maWxlXFxcIl1gKS50ZXh0Q29udGVudDtcbiAgY29uc3QgZmlsZXMgPSBKU09OLnBhcnNlKGI2NERlY29kZShmaWxlc0NvbnRlbnQpKTtcblxuICAvLyBJbml0aWFsaXNlIHdlYlIgYW5kIHNldHVwIGZvciBSIGNvZGUgZXZhbHVhdGlvblxuICBsZXQgd2ViUlByb21pc2UgPSAoYXN5bmMgKHdlYlIpID0+IHtcbiAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYERvd25sb2FkaW5nIHdlYlJgO1xuICAgIGF3YWl0IHdlYlIuaW5pdCgpO1xuXG4gICAgLy8gSW5zdGFsbCBwcm92aWRlZCBsaXN0IG9mIHBhY2thZ2VzXG4gICAgLy8gRW5zdXJlIHdlYlIgZGVmYXVsdCByZXBvIGlzIGluY2x1ZGVkXG4gICAgZGF0YS5wYWNrYWdlcy5yZXBvcy5wdXNoKFwiaHR0cHM6Ly9yZXBvLnItd2FzbS5vcmdcIilcbiAgICBhd2FpdCBkYXRhLnBhY2thZ2VzLnBrZ3MubWFwKChwa2cpID0+ICgpID0+IHtcbiAgICAgIHN0YXR1c1RleHQudGV4dENvbnRlbnQgPSBgRG93bmxvYWRpbmcgcGFja2FnZTogJHtwa2d9YDtcbiAgICAgIHJldHVybiB3ZWJSLmV2YWxSVm9pZChgXG4gICAgICAgIHdlYnI6Omluc3RhbGwocGtnLCByZXBvcyA9IHJlcG9zKVxuICAgICAgICBsaWJyYXJ5KHBrZywgY2hhcmFjdGVyLm9ubHkgPSBUUlVFKVxuICAgICAgYCwgeyBlbnY6IHtcbiAgICAgICAgcGtnOiBwa2csXG4gICAgICAgIHJlcG9zOiBkYXRhLnBhY2thZ2VzLnJlcG9zLFxuICAgICAgfX0pO1xuICAgIH0pLnJlZHVjZSgoY3VyLCBuZXh0KSA9PiBjdXIudGhlbihuZXh0KSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuXG4gICAgLy8gRG93bmxvYWQgYW5kIGluc3RhbGwgcmVzb3VyY2VzXG4gICAgYXdhaXQgZmlsZXMubWFwKChmaWxlKSA9PiBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBuYW1lID0gZmlsZS5zdWJzdHJpbmcoZmlsZS5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgICBzdGF0dXNUZXh0LnRleHRDb250ZW50ID0gYERvd25sb2FkaW5nIHJlc291cmNlOiAke25hbWV9YDtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmlsZSk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgZG93bmxvYWQgXFxgJHtmaWxlfVxcYC4gRXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9OiBcIiR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1cIi5gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuXG4gICAgICAvLyBTdG9yZSBVUkxzIGluIHRoZSBjd2Qgd2l0aG91dCBhbnkgc3ViZGlyZWN0b3J5IHN0cnVjdHVyZVxuICAgICAgaWYgKGZpbGUuaW5jbHVkZXMoXCI6Ly9cIikpIHtcbiAgICAgICAgZmlsZSA9IG5hbWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbGxhcHNlIGhpZ2hlciBkaXJlY3Rvcnkgc3RydWN0dXJlXG4gICAgICBmaWxlID0gY29sbGFwc2VQYXRoKGZpbGUpO1xuXG4gICAgICAvLyBDcmVhdGUgZGlyZWN0b3J5IHRyZWUsIGlnbm9yaW5nIFwiZGlyZWN0b3J5IGV4aXN0c1wiIFZGUyBlcnJvcnNcbiAgICAgIGNvbnN0IHBhcnRzID0gZmlsZS5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKTtcbiAgICAgIGxldCBwYXRoID0gJyc7XG4gICAgICB3aGlsZSAocGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXRoICs9IHBhcnRzLnNoaWZ0KCkgKyAnLyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgd2ViUi5GUy5ta2RpcihwYXRoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmICghZS5tZXNzYWdlLmluY2x1ZGVzKFwiRlMgZXJyb3JcIikpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFdyaXRlIHRoaXMgZmlsZSB0byB0aGUgVkZTXG4gICAgICByZXR1cm4gYXdhaXQgd2ViUi5GUy53cml0ZUZpbGUoZmlsZSwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpO1xuICAgIH0pLnJlZHVjZSgoY3VyLCBuZXh0KSA9PiBjdXIudGhlbihuZXh0KSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuXG4gICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBJbnN0YWxsaW5nIHdlYlIgc2hpbXNgO1xuICAgIGF3YWl0IHdlYlIuZXZhbFJWb2lkKGB3ZWJyOjpzaGltX2luc3RhbGwoKWApO1xuXG4gICAgc3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IGBXZWJSIGVudmlyb25tZW50IHNldHVwYDtcbiAgICBhd2FpdCBzZXR1cFIod2ViUiwgZGF0YSk7XG5cbiAgICBzdGF0dXNUZXh0LnJlbW92ZSgpO1xuICAgIGlmIChzdGF0dXNDb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcbiAgICAgIHN0YXR1c0NvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gd2ViUjtcbiAgfSkobmV3IFdlYlIoZGF0YS5vcHRpb25zKSk7XG5cbiAgLy8gS2VlcCB0cmFjayBvZiBpbml0aWFsIE9KUyBibG9jayByZW5kZXJcbiAgY29uc3QgcmVuZGVyZWRPanMgPSB7fTtcblxuICBjb25zdCBwcm9jZXNzID0gYXN5bmMgKGNvbnRleHQsIGlucHV0cykgPT4ge1xuICAgIGNvbnN0IHdlYlIgPSBhd2FpdCB3ZWJSUHJvbWlzZTtcbiAgICBjb25zdCBldmFsdWF0b3IgPSBuZXcgV2ViUkV2YWx1YXRvcih3ZWJSLCBjb250ZXh0KVxuICAgIGF3YWl0IGV2YWx1YXRvci5wcm9jZXNzKGlucHV0cyk7XG4gICAgcmV0dXJuIGV2YWx1YXRvci5jb250YWluZXI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHByb2Nlc3MsXG4gICAgd2ViUlByb21pc2UsXG4gICAgcmVuZGVyZWRPanMsXG4gIH07XG59XG4iLCJjZWxsTmFtZSI6IndlYnItcHJlbHVkZSIsIm1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsImlubGluZSI6ZmFsc2V9XX0=
</script>
<div id="exercise-loading-indicator" class="exercise-loading-indicator d-none d-flex align-items-center gap-2">
<div id="exercise-loading-status" class="d-flex gap-2">

</div>
<div class="spinner-grow spinner-grow-sm">

</div>
</div>
<script type="vfs-file">
WyJkYXRhL2hhbG9fYWxlcnQueGxzeCIsImRhdGEvfiRjaW5uYW1vbl9yb2xscy54bHN4IiwiZGF0YS9tdXNjbGVfY29sYS5jc3YiLCJkYXRhL2hhbG9fYWxlcnQuY3N2IiwiZGF0YS9jaW5uYW1vbl9yb2xscy5jc3YiLCJkYXRhL2xpYmVydHlfc2hpcC54bHN4IiwiZGF0YS9tdXNjbGVfY29sYS5yZHMiLCJkYXRhL2N1cGNha2VzLnhsc3giLCJkYXRhL2Npbm5hbW9uX3JvbGxzLnhsc3giLCJkYXRhL2N1cGNha2VzLmNzdiIsImRhdGEvbGliZXJ0eV9zaGlwLmNzdiIsImRhdGEvbXVzY2xlX2NvbGEueGxzeCJd
</script>
</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W119
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./eda.html" class="pagination-link" aria-label="Exploratory Data Analysis (EDA)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis (EDA)</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./univariate.html" class="pagination-link" aria-label="Univariate EDA">
        <span class="nav-page-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Univariate EDA</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>